{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\temp\\temp-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\temp\\temp-table.vue","mtime":1581498338139},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRhYmxlUmVuZGVyIGZyb20gJy4vdGFibGUtcmVuZGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ0ZW1wLXRhYmxlIiwKICBjb21wb25lbnRzOiB7CiAgICBUYWJsZVJlbmRlcjogVGFibGVSZW5kZXIKICB9LAogIHByb3BzOiB7CiAgICAvKioKICAgICAqIGZvcm1hdHRlcjoKICAgICAqIHsKICAgICAqICAgICBrZXnvvIwKICAgICAqICAgICB0aXRsZQogICAgICogfQogICAgICovCiAgICBjb2x1bW5zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nIHwgTnVtYmVyCiAgICB9LAogICAgYm9yZGVyZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbFdpZHRoOiB1bmRlZmluZWQsCiAgICAgIGZpeGVkSGVhZGVyUGFkZGluZzogdW5kZWZpbmVkLAogICAgICBoZWFkZXJIZWlnaHQ6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0Qm9keVN0eWxlOiBmdW5jdGlvbiB0Qm9keVN0eWxlKCkgewogICAgICBpZiAodGhpcy5oZWlnaHQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaGVpZ2h0OiAiIi5jb25jYXQodGhpcy5oZWlnaHQgLSB0aGlzLmhlYWRlckhlaWdodCwgInB4IikKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgdEhlYWRlclN0eWxlOiBmdW5jdGlvbiB0SGVhZGVyU3R5bGUoKSB7CiAgICAgIGlmICh0aGlzLmhlaWdodCAmJiB0aGlzLmZpeGVkSGVhZGVyUGFkZGluZyA+IDApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcGFkZGluZ1JpZ2h0OiB0aGlzLmZpeGVkSGVhZGVyUGFkZGluZyArICdweCcKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgdEJvZHlDbGFzczogZnVuY3Rpb24gdEJvZHlDbGFzcygpIHsKICAgICAgaWYgKHRoaXMuaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIFsnb3ZlcmZsb3dZLWF1dG8nXTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtdOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5jb2xXaWR0aCA9IHRoaXMuY2FsQ29sV2lkdGgoKTsKCiAgICB2YXIgX3RoaXMkJHJlZnMkdGFibGVIZWFkID0gdGhpcy4kcmVmcy50YWJsZUhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwKICAgICAgICBoZWFkZXJIZWlnaHQgPSBfdGhpcyQkcmVmcyR0YWJsZUhlYWQuaGVpZ2h0OwoKICAgIHZhciBfdGhpcyQkcmVmcyR0Qm9keSRnZXQgPSB0aGlzLiRyZWZzLnRCb2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgIGJvZHlXcmFwcGVyV2lkdGggPSBfdGhpcyQkcmVmcyR0Qm9keSRnZXQud2lkdGg7CgogICAgdmFyIF90aGlzJCRyZWZzJHRCb2R5VGFibCA9IHRoaXMuJHJlZnMudEJvZHlUYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwKICAgICAgICBib2R5V2lkdGggPSBfdGhpcyQkcmVmcyR0Qm9keVRhYmwud2lkdGg7CgogICAgdGhpcy5maXhlZEhlYWRlclBhZGRpbmcgPSBwYXJzZUludChib2R5V3JhcHBlcldpZHRoIC0gYm9keVdpZHRoKTsKICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gaGVhZGVySGVpZ2h0OwoKICAgIHRoaXMub25XaW5SZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5jYWxDb2xXaWR0aCgpOwogICAgfTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vbldpblJlc2l6ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYWxDb2xXaWR0aDogZnVuY3Rpb24gY2FsQ29sV2lkdGgoKSB7CiAgICAgIHZhciB3cmFwcGVyID0gdGhpcy4kcmVmcy53cmFwcGVyOwoKICAgICAgdmFyIF93cmFwcGVyJGdldEJvdW5kaW5nQyA9IHdyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICB3aWR0aCA9IF93cmFwcGVyJGdldEJvdW5kaW5nQy53aWR0aDsKCiAgICAgIHZhciBjb2xzV2l0aFdpZHRoID0gdGhpcy5jb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgcmV0dXJuIGNvbC53aWR0aDsKICAgICAgfSk7CiAgICAgIHZhciBjb2xzV2l0aE91dFdpZHRoID0gdGhpcy5jb2x1bW5zLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgcmV0dXJuICFjb2wud2lkdGg7CiAgICAgIH0pOwogICAgICB2YXIgc3VtQ29sV2l0aFdpZHRoID0gY29sc1dpdGhXaWR0aC5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikgewogICAgICAgIHJldHVybiBjdXIud2lkdGggKyBwcmV2OwogICAgICB9LCAwKTsKICAgICAgdmFyIHJlc3RXaWR0aCA9IHdpZHRoIC0gc3VtQ29sV2l0aFdpZHRoOwogICAgICB2YXIgcGVyQ29sV2lkdGggPSBNYXRoLmZsb29yKHJlc3RXaWR0aCAvIGNvbHNXaXRoT3V0V2lkdGgubGVuZ3RoKTsKICAgICAgY29uc29sZS5sb2coJ3BlckNvbFdpZHRoJywgcGVyQ29sV2lkdGgpOwogICAgICByZXR1cm4gcGVyQ29sV2lkdGg7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25XaW5SZXNpemUpOwogIH0KfTs="},{"version":3,"sources":["temp-table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"w-table-wrapper\" ref=\"wrapper\">\r\n        <div class=\"w-table-header\" :style=\"tHeaderStyle\" ref=\"tableHeader\">\r\n            <table class=\"w-table\" cellspacing=\"0\" cellpadding=\"0\">\r\n                <colgroup>\r\n                    <template v-for=\"col in columns\">\r\n                        <col :width=\"!!col.width?col.width:colWidth\"></col>\r\n                    </template>\r\n                </colgroup>\r\n                <thead>\r\n                <tr class=\"w-table-row\">\r\n                    <th v-for=\"col in columns\" class=\"w-table-cell\">\r\n                        {{col.text}}\r\n                    </th>\r\n                </tr>\r\n                </thead>\r\n            </table>\r\n        </div>\r\n        <div class=\"w-table-body\" :class=\"tBodyClass\" :style=\"tBodyStyle\" ref=\"tBody\">\r\n            <table class=\"w-table\" cellspacing=\"0\" cellpadding=\"0\" ref=\"tBodyTable\">\r\n                <colgroup>\r\n                    <template v-for=\"col in columns\">\r\n                        <col :width=\"!!col.width?col.width:colWidth\"></col>\r\n                    </template>\r\n                </colgroup>\r\n                <tbody>\r\n                <template v-for=\"(row,rowIndex) in data\">\r\n                    <tr class=\"w-table-row\">\r\n                        <td v-for=\"col in columns\" class=\"w-table-cell\">\r\n                            <template v-if=\"col.render\">\r\n                                <table-render :render=\"col.render\" :row=\"row\" :column=\"col\"\r\n                                              :index=\"rowIndex\"></table-render>\r\n                            </template>\r\n                            <template v-else-if=\"col.slot\">\r\n                                <slot :name=\"col.slot\" :row=\"row\" :column=\"col\" :index=\"rowIndex\"></slot>\r\n                            </template>\r\n                            <template v-else>\r\n                                {{row[col.field]}}\r\n                            </template>\r\n                        </td>\r\n                    </tr>\r\n                </template>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import TableRender from './table-render';\r\n\r\n  export default {\r\n    name: \"temp-table\",\r\n    components: {\r\n      TableRender\r\n    },\r\n    props: {\r\n      /**\r\n       * formatter:\r\n       * {\r\n       *     key，\r\n       *     title\r\n       * }\r\n       */\r\n      columns: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      data: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      height: {\r\n        type: String | Number\r\n      },\r\n      bordered: {\r\n        type: Boolean\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        colWidth: undefined,\r\n        fixedHeaderPadding: undefined,\r\n        headerHeight: undefined\r\n      }\r\n    },\r\n    computed: {\r\n      tBodyStyle() {\r\n        if (this.height) {\r\n          return {height: `${this.height-this.headerHeight }px`}\r\n        }\r\n        return '';\r\n      },\r\n      tHeaderStyle() {\r\n        if (this.height && this.fixedHeaderPadding > 0) {\r\n          return {paddingRight: this.fixedHeaderPadding + 'px'}\r\n        }\r\n        return '';\r\n      },\r\n      tBodyClass() {\r\n        if (this.height) {\r\n          return ['overflowY-auto']\r\n        }\r\n        return [];\r\n      }\r\n    },\r\n    mounted() {\r\n      this.colWidth = this.calColWidth();\r\n      let {height: headerHeight} = this.$refs.tableHeader.getBoundingClientRect();\r\n      let {width: bodyWrapperWidth} = this.$refs.tBody.getBoundingClientRect();\r\n      let {width: bodyWidth} = this.$refs.tBodyTable.getBoundingClientRect();\r\n      this.fixedHeaderPadding = parseInt(bodyWrapperWidth - bodyWidth);\r\n      this.headerHeight = headerHeight;\r\n      this.onWinResize = () => this.calColWidth();\r\n      window.addEventListener('resize', this.onWinResize);\r\n    },\r\n    methods: {\r\n      calColWidth() {\r\n        let wrapper = this.$refs.wrapper;\r\n        let {width} = wrapper.getBoundingClientRect();\r\n\r\n        let colsWithWidth = this.columns.filter(col => col.width);\r\n        let colsWithOutWidth = this.columns.filter(col => !col.width);\r\n\r\n        let sumColWithWidth = colsWithWidth.reduce((prev, cur) => {\r\n          return cur.width + prev;\r\n        }, 0);\r\n\r\n        let restWidth = width - sumColWithWidth;\r\n\r\n        let perColWidth = Math.floor(restWidth / colsWithOutWidth.length);\r\n        console.log('perColWidth', perColWidth);\r\n        return perColWidth;\r\n      }\r\n    },\r\n    beforeDestroy() {\r\n      window.removeEventListener('resize', this.onWinResize);\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .w-table {\r\n        border-collapse: collapse;\r\n        border-spacing: 0;\r\n        width: 100%;\r\n        &-wrapper {\r\n            position: relative;\r\n        }\r\n        &-header {\r\n            background-color: #f8f8f9;\r\n            &-fixed {\r\n                padding-right: 12px;\r\n            }\r\n        }\r\n        &-body {\r\n\r\n        }\r\n        &-cell {\r\n            text-align: left;\r\n            border-bottom: 1px solid #e8eaec;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            padding: 8px;\r\n        }\r\n    }\r\n\r\n    .overflowY-auto {\r\n        overflow-y: auto;\r\n    }\r\n</style>"],"sourceRoot":"src/components/table/temp"}]}