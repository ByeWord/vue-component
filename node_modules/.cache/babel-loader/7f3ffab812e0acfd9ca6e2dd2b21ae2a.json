{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagenation\\pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagenation\\pagination.vue","mtime":1579587888517},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidy1wYWdpbmF0aW9uIiwKICAvL+WFseacieWkmuWwkeadoeaVsOaNru+8jOavj+mhteaYvuekuuWkmuWwkeadoeaVsOaNru+8jOacieWkmuWwkeS4quWIhumhte+8jOaYvuekuuWkmuWwkeS4quWIhumhtQogIC8v5pWw5o2u5oC75p2h5pWw44CB5q+P6aG15pi+56S65p2h5pWw44CB5pi+56S66aG156CB5pWw77yM5ZCM5pe25oiR5Lus6ZyA6KaB5a6a5LmJ5b2T5YmN6aG15Y+C5pWw77yI6buY6K6k5Li6Me+8ie+8jOaYvuekuuadoeaVsO+8iOm7mOiupDEw5p2h77yJ77yM6Lez6L2s6aG177yI6buY6K6k56ysMemhte+8iQogIHByb3BzOiB7CiAgICBjdXJyZW50UGFnZU51bWJlcjogewogICAgICAvL+W9k+WJjemhtemhteeggQogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICB0b3RhbDogewogICAgICAvL+aVsOaNruaAu+mHj++8jOmdnumhteeggeaAu+mHjwogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBwYWdlU2l6ZXM6IHsKICAgICAgLy8g5L6b55So5oi36YCJ5oup55qE5q+P6aG15bGV56S66aG555uu5pWw6YePCiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gWzUsIDEwLCAxNSwgMjBdOwogICAgICB9CiAgICB9LAogICAgcGFnZUdyb3VwOiB7CiAgICAgIC8v5bGV56S66aG156CB6aG555uu5pWw6YePCiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhcmdldFBhZ2VOdW1iZXI6IDEsCiAgICAgIC8v6Lez6L2s55qE55uu5qCH6aG16Z2iCiAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplc1swXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0b3RhbFBhZ2VzOiBmdW5jdGlvbiB0b3RhbFBhZ2VzKCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMudG90YWwgLyB0aGlzLnBhZ2VTaXplKSB8fCAxOwogICAgfSwKICAgIHBhZ2VOdW1iZXJzOiBmdW5jdGlvbiBwYWdlTnVtYmVycygpIHsKICAgICAgLy/orqHnrpfmmL7npLrnmoTpobXnoIHlnZfmlbDph48KICAgICAgdmFyIGFsbFBhZ2VOdW1iZXJzID0gdGhpcy5hbGxQYWdlTnVtYmVyczsKICAgICAgdmFyIHN0YXJQYWdlUG9zID0gdGhpcy5wYWdlU3RhcnRQb3M7CiAgICAgIHZhciByZXN1bHQgPSBhbGxQYWdlTnVtYmVycy5zbGljZShzdGFyUGFnZVBvcywgc3RhclBhZ2VQb3MgKyB0aGlzLnBhZ2VHcm91cCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgYWxsUGFnZU51bWJlcnM6IGZ1bmN0aW9uIGFsbFBhZ2VOdW1iZXJzKCkgewogICAgICB2YXIgbGVuID0gdGhpcy50b3RhbFBhZ2VzOwogICAgICB2YXIgcmVzdWx0ID0gW107IC8vIOaAu+mhteeggeaVsOWwj+S6juiuvue9rumhteeggeaVsAoKICAgICAgaWYgKGxlbiA8IHRoaXMucGFnZUdyb3VwKSB7CiAgICAgICAgd2hpbGUgKGxlbi0tKSB7CiAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLnRvdGFsUGFnZXMgLSBsZW4pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSAvLyDmgLvpobXnoIHmlbDlpKfkuo7orr7nva7pobXnoIHmlbAKCgogICAgICB3aGlsZSAobGVuLS0pIHsKICAgICAgICByZXN1bHQucHVzaCh0aGlzLnRvdGFsUGFnZXMgLSBsZW4pOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZyhyZXN1bHQubGVuZ3RoKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBwYWdlU3RhcnRQb3M6IGZ1bmN0aW9uIHBhZ2VTdGFydFBvcygpIHsKICAgICAgLy8gZmluZCB0aGUgaW5kZXggb2YgdGhlIHRhcmdldCBlbGVtZW50CiAgICAgIHZhciB0YXJnZXRJZHggPSB0aGlzLmFsbFBhZ2VOdW1iZXJzLmluZGV4T2YodGhpcy5jdXJyZW50UGFnZU51bWJlcik7CiAgICAgIHZhciBkaXZpZGluZyA9IE1hdGguZmxvb3IodGhpcy5wYWdlR3JvdXAgLyAyKTsgLy8gY2FsY3VsYXRlIHRoZSBzdGFydCBwb3NpdGlvbgoKICAgICAgdmFyIHN0YXJ0UG9zID0gMDsKCiAgICAgIGlmICh0YXJnZXRJZHggPD0gZGl2aWRpbmcpIHsKICAgICAgICAvLyBzaXR1YXRpb24tMSB0YXJnZXRJZHggaXMgaW4gWzAscmFuZ2UvMl0KICAgICAgICBzdGFydFBvcyA9IDA7CiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0SWR4ID4gdGhpcy50b3RhbFBhZ2VzIC0gMSAtIGRpdmlkaW5nKSB7CiAgICAgICAgLy8gc2l0dWF0aW9uLTIgdGFyZ2V0SWR4IGlzIGluIFttYXhJbmRleC1yYW5nZS8yLG1heEluZGV4XQogICAgICAgIHN0YXJ0UG9zID0gdGhpcy50b3RhbFBhZ2VzIC0gdGhpcy5wYWdlR3JvdXA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhcnRQb3MgPSB0YXJnZXRJZHggLSBkaXZpZGluZzsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0YXJ0UG9zOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2tpcFRvUGFnZTogZnVuY3Rpb24gc2tpcFRvUGFnZShwYWdlTnVtYmVyKSB7CiAgICAgIGlmIChwYWdlTnVtYmVyID49IDEgJiYgcGFnZU51bWJlciA8PSB0aGlzLnRvdGFsUGFnZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhwYWdlTnVtYmVyKTsKICAgICAgICB0aGlzLiRlbWl0KCdwYWdlTnVtYmVyQ2hhbmdlJywgewogICAgICAgICAgcGFnZTogcGFnZU51bWJlciwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBza2lwVG86IGZ1bmN0aW9uIHNraXBUbygpIHsKICAgICAgdGhpcy5za2lwVG9QYWdlKHRoaXMudGFyZ2V0UGFnZU51bWJlcik7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0UGFnZUNvdW50OiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RQYWdlQ291bnQoZSkgewogICAgICB0aGlzLiRlbWl0KCdvblNob3dTaXplQ2hhbmdlJywgewogICAgICAgIHBhZ2U6IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgcGFnZVNpemU6IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <nav class=\"w-pagination\">\r\n        <span class=\"w-pagination-info\">共<em>{{totalPages}}</em>页/{{total}}条</span>\r\n        <ul class=\"w-pagination-nav\">\r\n            <li :class=\"{'disabled': currentPageNumber === 1}\" @click=\"skipToPage(1)\">首页</li>\r\n            <li :class=\"{'disabled': currentPageNumber === 1}\" @click=\"skipToPage(currentPageNumber-1)\">上一页</li>\r\n            <li v-for='(num,id) in pageNumbers' :key='id' @click=\"skipToPage(num)\"\r\n                :class=\"{'active':(currentPageNumber===num)}\">{{num}}\r\n            </li>\r\n            <li :class=\"{'disabled': currentPageNumber === totalPages}\" @click=\"skipToPage(currentPageNumber+1)\">\r\n                下一页\r\n            </li>\r\n            <li :class=\"{'disabled': currentPageNumber === totalPages}\" @click=\"skipToPage(totalPages)\">尾页\r\n            </li>\r\n        </ul>\r\n        <div class=\"w-pagination-jump\">\r\n            <select class=\"w-pagination-jump-pageSelect\" @change=\"handleSelectPageCount($event)\">\r\n                <option v-for=\"(num,ide) in pageSizes\" :key=\"ide\" :value=\"num\">{{num}}条/页</option>\r\n            </select>\r\n            <input type=\"text\" v-model=\"targetPageNumber\" @keyup.enter=\"submit($event)\">\r\n            <span @click=\"skipTo\">跳转</span>\r\n        </div>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"w-pagination\",\r\n    //共有多少条数据，每页显示多少条数据，有多少个分页，显示多少个分页\r\n    //数据总条数、每页显示条数、显示页码数，同时我们需要定义当前页参数（默认为1），显示条数（默认10条），跳转页（默认第1页）\r\n    props: {\r\n      currentPageNumber: {//当前页页码\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      total: {//数据总量，非页码总量\r\n        type: Number\r\n      },\r\n      pageSizes: { // 供用户选择的每页展示项目数量\r\n        type: Array,\r\n        default: () => [5, 10, 15, 20]\r\n      },\r\n      pageGroup: {//展示页码项目数量\r\n        type: Number,\r\n        default: 7\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        targetPageNumber: 1, //跳转的目标页面\r\n        pageSize: this.pageSizes[0]\r\n      }\r\n    },\r\n    computed: {\r\n      totalPages() {\r\n        return Math.ceil(this.total / this.pageSize) || 1;\r\n      },\r\n      pageNumbers() {//计算显示的页码块数量\r\n        let allPageNumbers = this.allPageNumbers;\r\n        let starPagePos = this.pageStartPos;\r\n        let result = allPageNumbers.slice(starPagePos, starPagePos+this.pageGroup);\r\n        return result;\r\n      },\r\n      allPageNumbers() {\r\n        let len = this.totalPages;\r\n        let result = [];\r\n        // 总页码数小于设置页码数\r\n        if (len < this.pageGroup) {\r\n          while (len--) {\r\n            result.push(this.totalPages - len);\r\n          }\r\n          return result;\r\n        }\r\n        // 总页码数大于设置页码数\r\n        while (len--) {\r\n          result.push(this.totalPages - len);\r\n        }\r\n        console.log(result.length)\r\n        return result;\r\n      },\r\n      pageStartPos() {\r\n        // find the index of the target element\r\n        let targetIdx = this.allPageNumbers.indexOf(this.currentPageNumber);\r\n        let dividing = Math.floor(this.pageGroup / 2);\r\n        // calculate the start position\r\n        let startPos = 0;\r\n        if (targetIdx <= dividing) {// situation-1 targetIdx is in [0,range/2]\r\n          startPos = 0;\r\n        } else if (targetIdx > this.totalPages - 1 - dividing) {// situation-2 targetIdx is in [maxIndex-range/2,maxIndex]\r\n          startPos = this.totalPages - this.pageGroup;\r\n        } else {\r\n          startPos = targetIdx - dividing\r\n        }\r\n        return startPos\r\n      }\r\n    },\r\n    methods: {\r\n      skipToPage(pageNumber) {\r\n        if (pageNumber >= 1 && pageNumber <= this.totalPages) {\r\n          console.log(pageNumber)\r\n          this.$emit('pageNumberChange', {page: pageNumber, pageSize: this.pageSize});\r\n        }\r\n      },\r\n      skipTo() {\r\n        this.skipToPage(this.targetPageNumber)\r\n      },\r\n      handleSelectPageCount(e) {\r\n        this.$emit('onShowSizeChange', {page: this.currentPage, pageSize: parseInt(e.target.value)});\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .active {\r\n        color: #fff;\r\n        background-color: crimson;\r\n    }\r\n\r\n    .disabled {\r\n        color: #d9d9d9;\r\n        user-select: none;\r\n    }\r\n\r\n    .w-pagination {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        ul {\r\n            list-style: none;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        &-info {\r\n\r\n        }\r\n        &-nav {\r\n            display: inline-flex;\r\n            li {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                box-sizing: border-box;\r\n                height: 32px;\r\n                padding: 0 8px;\r\n                min-width: 32px;\r\n                border: 1px solid #d9d9d9;\r\n                cursor: pointer;\r\n                transition: all 0.3s linear;\r\n                &:not(:first-child) {\r\n                    margin-left: 8px;\r\n                }\r\n                &:not(.disabled):hover {\r\n                    color: #fff;\r\n                    background-color: crimson;\r\n                }\r\n            }\r\n        }\r\n        &-jump {\r\n            margin-left: 8px;\r\n            display: inline-flex;\r\n            align-items: center;\r\n            &-pageSelect, input, span {\r\n                height: 32px;\r\n                box-sizing: border-box;\r\n            }\r\n            span {\r\n                display: inline-block;\r\n                height: 32px;\r\n                padding: 0 8px;\r\n                min-width: 32px;\r\n                line-height: 32px;\r\n                border: 1px solid #d9d9d9;\r\n                cursor: pointer;\r\n                transition: all 0.3s linear;\r\n                background-color: #d9d9d9;\r\n            }\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/components/pagenation"}]}