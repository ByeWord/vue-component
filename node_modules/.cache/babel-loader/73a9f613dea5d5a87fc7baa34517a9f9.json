{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\scroll-view\\src\\scroll-view.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\scroll-view\\src\\scroll-view.vue","mtime":1580546204031},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNhbFZpc2libGVIZWlnaHQgfSBmcm9tICIuLi8uLi8uLi91dGlscy9zY3JvbGwiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIldTY3JvbGxWaWV3IiwKICBwcm9wczogewogICAgc3RlcDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEwMAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyYWNrSGVpZ2h0OiAwLAogICAgICBzY3JvbGxCYXJIZWlnaHQ6IDAsCiAgICAgIHNjcm9sbEJhclZpc2libGU6IGZhbHNlLAogICAgICBzY3JvbGxCYXJTdGFydFBvczoge30sCiAgICAgIHNjcm9sbEJhck1vdmluZzogZmFsc2UsCiAgICAgIHNjcm9sbEJhclRyYW5zbGF0ZTogewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB6OiAxCiAgICAgIH0sCiAgICAgIGNvbnRlbnRUcmFuc2xhdGVZOiAwLAogICAgICBjb250ZW50SGVpZ2h0OiAwLAogICAgICB2aXNpYmxlSGVpZ2h0OiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbnRlbnRNYXhUcmFuc2xhdGVZOiBmdW5jdGlvbiBjb250ZW50TWF4VHJhbnNsYXRlWSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGVudEhlaWdodCAtIHRoaXMudmlzaWJsZUhlaWdodDsKICAgIH0sCiAgICBzY3JvbGxCYXJNYXhUcmFuc2xhdGVZOiBmdW5jdGlvbiBzY3JvbGxCYXJNYXhUcmFuc2xhdGVZKCkgewogICAgICByZXR1cm4gdGhpcy50cmFja0hlaWdodCAtIHRoaXMuc2Nyb2xsQmFySGVpZ2h0OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbGlzdGVuVG9SZW1vdGVSZXNvdXJjZXM6IGZ1bmN0aW9uIGxpc3RlblRvUmVtb3RlUmVzb3VyY2VzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHRhZ3MgPSB0aGlzLiRyZWZzLnZpZXdCb3gucXVlcnlTZWxlY3RvckFsbCgnaW1nLCB2aWRlbywgYXVkaW8nKTsKICAgICAgQXJyYXkuZnJvbSh0YWdzKS5tYXAoZnVuY3Rpb24gKHRhZykgewogICAgICAgIGlmICh0YWcuaGFzQXR0cmlidXRlKCdkYXRhLWxpc3RlbmVkJykpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRhZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtbGlzdGVuZWQnLCAneWVzJyk7CiAgICAgICAgdGFnLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5pbml0KCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxpc3RlblRvRG9tQ2hhbmdlOiBmdW5jdGlvbiBsaXN0ZW5Ub0RvbUNoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRoaXMuJHJlZnMuY29udGVudDsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLAogICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwKICAgICAgICBzdWJ0cmVlOiB0cnVlCiAgICAgIH07CgogICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjaygpIHsKICAgICAgICBfdGhpczIubGlzdGVuVG9SZW1vdGVSZXNvdXJjZXMoKTsKICAgICAgfTsKCiAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXROb2RlLCBjb25maWcpOwogICAgfSwKICAgIHVwZGF0ZVNjcm9sbEJhckhlaWdodDogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsQmFySGVpZ2h0KCkgewogICAgICB0aGlzLnNjcm9sbEJhckhlaWdodCA9IHRoaXMudmlzaWJsZUhlaWdodCAqIHRoaXMudHJhY2tIZWlnaHQgLyB0aGlzLmNvbnRlbnRIZWlnaHQ7CiAgICB9LAogICAgdXBkYXRlU2Nyb2xsQmFyOiBmdW5jdGlvbiB1cGRhdGVTY3JvbGxCYXIoKSB7CiAgICAgIHRoaXMudXBkYXRlU2Nyb2xsQmFySGVpZ2h0KCk7CiAgICAgIHRoaXMuc2Nyb2xsQmFyVHJhbnNsYXRlLnkgPSAtdGhpcy5jb250ZW50VHJhbnNsYXRlWSAqIHRoaXMudHJhY2tIZWlnaHQgLyB0aGlzLmNvbnRlbnRIZWlnaHQ7CiAgICB9LAogICAgdXBkYXRlQ29udGVudFRyYW5zbGF0ZVlCeU1vdXNlOiBmdW5jdGlvbiB1cGRhdGVDb250ZW50VHJhbnNsYXRlWUJ5TW91c2UoKSB7CiAgICAgIHRoaXMuY29udGVudFRyYW5zbGF0ZVkgPSAtdGhpcy5jb250ZW50SGVpZ2h0ICogdGhpcy5zY3JvbGxCYXJUcmFuc2xhdGUueSAvIHRoaXMudmlzaWJsZUhlaWdodDsKICAgIH0sCiAgICBvbk1vdXNlRG93blNjcm9sbEJhcjogZnVuY3Rpb24gb25Nb3VzZURvd25TY3JvbGxCYXIoZSkgewogICAgICB0aGlzLnNjcm9sbEJhck1vdmluZyA9IHRydWU7CiAgICAgIHRoaXMuc2Nyb2xsQmFyU3RhcnRQb3MgPSB7CiAgICAgICAgeDogZS5wYWdlWCwKICAgICAgICB5OiBlLnBhZ2VZCiAgICAgIH07CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmVTY3JvbGxCYXIpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXBTY3JvbGxCYXIpOwogICAgfSwKICAgIG9uTW91c2VNb3ZlU2Nyb2xsQmFyOiBmdW5jdGlvbiBvbk1vdXNlTW92ZVNjcm9sbEJhcihlKSB7CiAgICAgIGlmICh0aGlzLnNjcm9sbEJhck1vdmluZykgewogICAgICAgIHZhciBkZWx0YVkgPSBlLnBhZ2VZIC0gdGhpcy5zY3JvbGxCYXJTdGFydFBvcy55OwogICAgICAgIHRoaXMuc2Nyb2xsQmFyU3RhcnRQb3MgPSB7CiAgICAgICAgICB4OiBlLnBhZ2VYLAogICAgICAgICAgeTogZS5wYWdlWQogICAgICAgIH07CiAgICAgICAgdmFyIHdpbGxTY3JvbGxCYXJUcmFuc2xhdGUgPSB0aGlzLnNjcm9sbEJhclRyYW5zbGF0ZS55ICsgZGVsdGFZOyAvLyDpmZDliLZzY3JvbGwgYmFy56e75Yqo6Led56a7CgogICAgICAgIGlmICh3aWxsU2Nyb2xsQmFyVHJhbnNsYXRlIDw9IDApIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVHJhbnNsYXRlLnkgPSAwOwogICAgICAgIH0gZWxzZSBpZiAod2lsbFNjcm9sbEJhclRyYW5zbGF0ZSA+PSB0aGlzLnNjcm9sbEJhck1heFRyYW5zbGF0ZVkpIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVHJhbnNsYXRlLnkgPSB0aGlzLnNjcm9sbEJhck1heFRyYW5zbGF0ZVk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVHJhbnNsYXRlLnkgPSB3aWxsU2Nyb2xsQmFyVHJhbnNsYXRlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy51cGRhdGVDb250ZW50VHJhbnNsYXRlWUJ5TW91c2UoKTsKICAgICAgfQogICAgfSwKICAgIG9uTW91c2VVcFNjcm9sbEJhcjogZnVuY3Rpb24gb25Nb3VzZVVwU2Nyb2xsQmFyKGUpIHsKICAgICAgdGhpcy5zY3JvbGxCYXJNb3ZpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5saXN0ZW5Ub0RvYygpOwogICAgfSwKICAgIGxpc3RlblRvRG9jOiBmdW5jdGlvbiBsaXN0ZW5Ub0RvYygpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwU2Nyb2xsQmFyKTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZVNjcm9sbEJhcik7CiAgICB9LAogICAgb25Nb3VzZUVudGVyOiBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoKSB7CiAgICAgIHRoaXMuc2Nyb2xsQmFyVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiBvbk1vdXNlTGVhdmUoKSB7CiAgICAgIHRoaXMuc2Nyb2xsQmFyVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIG9uV2hlZWw6IGZ1bmN0aW9uIG9uV2hlZWwoZXZlbnQpIHsKICAgICAgdGhpcy51cGRhdGVDb250ZW50VHJhbnNsYXRlWShldmVudCk7CiAgICAgIHRoaXMudXBkYXRlU2Nyb2xsQmFyKCk7CiAgICB9LAogICAgdXBkYXRlQ29udGVudFRyYW5zbGF0ZVk6IGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRUcmFuc2xhdGVZKGV2ZW50KSB7CiAgICAgIHZhciBkaXJlY3Rpb24gPSBldmVudC5kZWx0YVk7IC8vIOmZkOWItuWGheWuuea7muWKqOi3neemuwoKICAgICAgaWYgKGRpcmVjdGlvbiA+IDApIHsKICAgICAgICB0aGlzLmNvbnRlbnRUcmFuc2xhdGVZIC09IHRoaXMuc3RlcDsKCiAgICAgICAgaWYgKHRoaXMuY29udGVudFRyYW5zbGF0ZVkgPD0gLXRoaXMuY29udGVudE1heFRyYW5zbGF0ZVkpIHsKICAgICAgICAgIHRoaXMuY29udGVudFRyYW5zbGF0ZVkgPSAtdGhpcy5jb250ZW50TWF4VHJhbnNsYXRlWTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uIDwgMCkgewogICAgICAgIHRoaXMuY29udGVudFRyYW5zbGF0ZVkgKz0gdGhpcy5zdGVwOwoKICAgICAgICBpZiAodGhpcy5jb250ZW50VHJhbnNsYXRlWSA+PSAwKSB7CiAgICAgICAgICB0aGlzLmNvbnRlbnRUcmFuc2xhdGVZID0gMDsKICAgICAgICB9CiAgICAgIH0gLy/op6PlhrPlhoXlrrnmu5rliqjliLAKCgogICAgICB2YXIgbGltaXQgPSBNYXRoLmFicygtdGhpcy5jb250ZW50VHJhbnNsYXRlWSk7CgogICAgICBpZiAoMCA8IGxpbWl0ICYmIGxpbWl0IDwgdGhpcy5jb250ZW50TWF4VHJhbnNsYXRlWSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgdmlld0JveEVsID0gdGhpcy4kcmVmcy52aWV3Qm94OwogICAgICB0aGlzLmNvbnRlbnRIZWlnaHQgPSB0aGlzLiRyZWZzLmNvbnRlbnQub2Zmc2V0SGVpZ2h0OwogICAgICB0aGlzLnRyYWNrSGVpZ2h0ID0gdmlld0JveEVsLmNsaWVudEhlaWdodDsKICAgICAgdGhpcy52aXNpYmxlSGVpZ2h0ID0gY2FsVmlzaWJsZUhlaWdodCh2aWV3Qm94RWwpOwogICAgICB0aGlzLnVwZGF0ZVNjcm9sbEJhcigpOwogICAgICB0aGlzLmxpc3RlblRvUmVtb3RlUmVzb3VyY2VzKCk7CiAgICAgIHRoaXMubGlzdGVuVG9Eb21DaGFuZ2UoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"sources":["scroll-view.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div ref=\"viewBox\" class=\"w-scroll-wrapper\"\r\n         @mouseenter=\"onMouseEnter\"\r\n         @mouseleave=\"onMouseLeave\"\r\n         @wheel=\"onWheel\"\r\n    >\r\n        <div ref=\"content\" class=\"w-scroll\" :style=\"{transform:`translateY(${contentTranslateY}px)`}\">\r\n            <slot></slot>\r\n        </div>\r\n        <div class=\"w-scroll-track\" ref=\"track\" v-if=\"scrollBarVisible\">\r\n            <div class=\"w-scroll-bar\" ref=\"bar\"\r\n                 :style=\"{height:scrollBarHeight+'px',transform:`translate3d(0px,${scrollBarTranslate.y}px,${scrollBarTranslate.z}px)`}\"\r\n                 @mousedown=\"onMouseDownScrollBar\">\r\n                <div class=\"w-scroll-bar-inner\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import {calVisibleHeight} from \"../../../utils/scroll\";\r\n  export default {\r\n    name: \"WScrollView\",\r\n    props: {\r\n      step: {\r\n        type: Number,\r\n        default: 100\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        trackHeight: 0,\r\n        scrollBarHeight: 0,\r\n        scrollBarVisible: false,\r\n        scrollBarStartPos: {},\r\n        scrollBarMoving: false,\r\n        scrollBarTranslate: {x: 0, y: 0, z: 1},\r\n        contentTranslateY: 0,\r\n        contentHeight: 0,\r\n        visibleHeight: 0,\r\n      }\r\n    },\r\n    computed: {\r\n      contentMaxTranslateY() {\r\n        return this.contentHeight - this.visibleHeight;\r\n      },\r\n      scrollBarMaxTranslateY() {\r\n        return this.trackHeight - this.scrollBarHeight;\r\n      }\r\n    },\r\n    methods: {\r\n      listenToRemoteResources() {\r\n        let tags = this.$refs.viewBox.querySelectorAll('img, video, audio');\r\n        Array.from(tags).map((tag) => {\r\n          if (tag.hasAttribute('data-listened')) {\r\n            return\r\n          }\r\n          tag.setAttribute('data-listened', 'yes');\r\n          tag.addEventListener('load', () => {\r\n            this.init();\r\n          })\r\n        })\r\n      },\r\n      listenToDomChange() {\r\n        const targetNode = this.$refs.content;\r\n        const config = {attributes: true, childList: true, subtree: true};\r\n        const callback = () => {\r\n          this.listenToRemoteResources()\r\n        };\r\n        const observer = new MutationObserver(callback);\r\n        observer.observe(targetNode, config);\r\n      },\r\n      updateScrollBarHeight() {\r\n        this.scrollBarHeight = this.visibleHeight * this.trackHeight / this.contentHeight;\r\n      },\r\n      updateScrollBar() {\r\n        this.updateScrollBarHeight();\r\n        this.scrollBarTranslate.y = -this.contentTranslateY * this.trackHeight / this.contentHeight;\r\n      },\r\n      updateContentTranslateYByMouse() {\r\n        this.contentTranslateY = -this.contentHeight * this.scrollBarTranslate.y / this.visibleHeight;\r\n      },\r\n      onMouseDownScrollBar(e) {\r\n        this.scrollBarMoving = true;\r\n        this.scrollBarStartPos = {x: e.pageX, y: e.pageY};\r\n        document.addEventListener('mousemove', this.onMouseMoveScrollBar);\r\n        document.addEventListener('mouseup', this.onMouseUpScrollBar);\r\n      },\r\n      onMouseMoveScrollBar(e) {\r\n        if (this.scrollBarMoving) {\r\n          let deltaY = e.pageY - this.scrollBarStartPos.y;\r\n          this.scrollBarStartPos = {x: e.pageX, y: e.pageY};\r\n          let willScrollBarTranslate = this.scrollBarTranslate.y + deltaY;\r\n          // 限制scroll bar移动距离\r\n          if (willScrollBarTranslate <= 0) {\r\n            this.scrollBarTranslate.y = 0;\r\n          } else if (willScrollBarTranslate >= this.scrollBarMaxTranslateY) {\r\n            this.scrollBarTranslate.y = this.scrollBarMaxTranslateY;\r\n          } else {\r\n            this.scrollBarTranslate.y = willScrollBarTranslate;\r\n          }\r\n          this.updateContentTranslateYByMouse();\r\n        }\r\n      },\r\n      onMouseUpScrollBar(e) {\r\n        this.scrollBarMoving = false;\r\n        this.listenToDoc();\r\n      },\r\n      listenToDoc() {\r\n        document.removeEventListener('mouseup', this.onMouseUpScrollBar);\r\n        document.removeEventListener('mousemove', this.onMouseMoveScrollBar);\r\n      },\r\n      onMouseEnter() {\r\n        this.scrollBarVisible = true;\r\n      },\r\n      onMouseLeave() {\r\n        this.scrollBarVisible = false;\r\n      },\r\n      onWheel(event) {\r\n        this.updateContentTranslateY(event);\r\n        this.updateScrollBar();\r\n      },\r\n      updateContentTranslateY(event) {\r\n        let direction = event.deltaY;\r\n        // 限制内容滚动距离\r\n        if (direction > 0) {\r\n          this.contentTranslateY -= this.step;\r\n          if (this.contentTranslateY <= -this.contentMaxTranslateY) {\r\n            this.contentTranslateY = -this.contentMaxTranslateY;\r\n          }\r\n        } else if (direction < 0) {\r\n          this.contentTranslateY += this.step;\r\n          if (this.contentTranslateY >= 0) {\r\n            this.contentTranslateY = 0;\r\n          }\r\n        }\r\n        //解决内容滚动到\r\n        let limit = Math.abs(-this.contentTranslateY);\r\n        if (0 < limit && limit < this.contentMaxTranslateY) {\r\n          event.preventDefault();\r\n        }\r\n      },\r\n      init() {\r\n        let viewBoxEl = this.$refs.viewBox;\r\n        this.contentHeight = this.$refs.content.offsetHeight;\r\n        this.trackHeight = viewBoxEl.clientHeight;\r\n        this.visibleHeight = calVisibleHeight(viewBoxEl);\r\n        this.updateScrollBar();\r\n        this.listenToRemoteResources();\r\n        this.listenToDomChange();\r\n      }\r\n    },\r\n    mounted() {\r\n      this.init();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .w-scroll {\r\n        box-sizing: border-box;\r\n        transition: transform .05s ease-in-out;\r\n        overflow: hidden; //触发BFC\r\n        &-wrapper {\r\n            overflow: hidden;\r\n            position: relative;\r\n            box-sizing: border-box;\r\n        }\r\n        &-track {\r\n            position: absolute;\r\n            width: 14px;\r\n            height: 100%;\r\n            top: 0;\r\n            right: 0;\r\n            background-color: rgba(0, 0, 0, 0.2);\r\n            border-radius: 7px;\r\n            opacity: 0.5;\r\n        }\r\n        &-bar {\r\n            position: absolute;\r\n            width: 8px;\r\n            left: 50%;\r\n            top: 0;\r\n            margin-left: -4px;\r\n            padding: 4px 0;\r\n            transition: transform .05s ease-in-out;\r\n            box-sizing: border-box;\r\n            &-inner {\r\n                height: 100%;\r\n                border-radius: 4px;\r\n                background-color: rgba(0, 0, 0, .3);\r\n                transition: background-color .3s ease-in-out;\r\n                cursor: pointer;\r\n                &:hover {\r\n                    background-color: rgba(0, 0, 0, .8);\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/components/scroll-view/src"}]}