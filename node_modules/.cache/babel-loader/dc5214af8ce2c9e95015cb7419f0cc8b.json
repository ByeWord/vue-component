{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\table.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\table.vue","mtime":1579681965939},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3LXRhYmxlIiwKICBwcm9wczogewogICAgZGF0YVNvdXJjZTogewogICAgICAvLwogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgY29sdW1uczogewogICAgICAvLyDooajlpLTnmoTmlbDmja4KICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBudW1iZXJWaXNpYmxlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBib3JkZXJlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2VsZWN0ZWRJdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgaW5kZXRlcm1pbmF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIG9yZGVyQnk6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzZWxlY3RlZEl0ZW1zOiBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1zKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gdGhpcy5kYXRhU291cmNlLmxlbmd0aCkge30gZWxzZSBpZiAodGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCA9PT0gMCkge30gZWxzZSB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGFyZEFsbEl0ZW1zU2VsZWN0ZWQ6IGZ1bmN0aW9uIGFyZEFsbEl0ZW1zU2VsZWN0ZWQoKSB7CiAgICAgIHZhciBzb3J0ZWREYXRhID0gdGhpcy5kYXRhU291cmNlLm1hcChmdW5jdGlvbiAoZHMpIHsKICAgICAgICByZXR1cm4gZHMuaWQ7CiAgICAgIH0pLnNvcnQoKTsKICAgICAgdmFyIHNvcnRlZFNlbERhdGEgPSB0aGlzLnNlbGVjdGVkSXRlbXMubWFwKGZ1bmN0aW9uIChzaSkgewogICAgICAgIHJldHVybiBzaS5pZDsKICAgICAgfSkuc29ydCgpOwoKICAgICAgaWYgKHNvcnRlZERhdGEubGVuZ3RoICE9PSBzb3J0ZWRTZWxEYXRhLmxlbmd0aCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGVxdWFsID0gdHJ1ZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydGVkRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChzb3J0ZWREYXRhW2ldLmlkICE9PSBzb3J0ZWRTZWxEYXRhW2ldLmlkKSB7CiAgICAgICAgICBlcXVhbCA9IGZhbHNlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZXF1YWw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDaGVjazogZnVuY3Rpb24gaGFuZGxlQ2hlY2soaXRlbSwgaW5kZXgsIGV2ZW50KSB7CiAgICAgIHZhciBzZWxlY3RlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkOwogICAgICB2YXIgY29weSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zZWxlY3RlZEl0ZW1zKSk7CgogICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICBjb3B5LnB1c2goaXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29weSA9IGNvcHkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICByZXR1cm4gYS5pZCAhPT0gaXRlbS5pZDsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGVkSXRlbXMnLCBjb3B5KTsKICAgIH0sCiAgICBvblNlbGVjdEFsbDogZnVuY3Rpb24gb25TZWxlY3RBbGwoZSkgewogICAgICB2YXIgc2VsZWN0ZWQgPSBlLnRhcmdldC5jaGVja2VkOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VsZWN0ZWRJdGVtcycsIHNlbGVjdGVkID8gdGhpcy5kYXRhU291cmNlIDogW10pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"w-table-wrapper\">\r\n        <table class=\"w-table\" :class=\"{bordered}\">\r\n            <thead class=\"w-table-head\">\r\n            <tr>\r\n                <th>\r\n                    <input\r\n                            type=\"checkbox\"\r\n                            @change=\"onSelectAll\"\r\n                            :checked=\"ardAllItemsSelected\"\r\n                            ref=\"allChecked\"\r\n                    />\r\n                </th>\r\n                <th v-if=\"numberVisible\">#</th>\r\n                <th v-for=\"column in columns\" :key=\"column.field\">\r\n                    {{column.text}}<span v-if=\"column.field in orderBy\" class=\"w-table-sorter\">↑↓</span>\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody class=\"w-table-body\">\r\n            <tr v-for=\"(item,idx) in dataSource\" :key=\"item.id\">\r\n                <td>\r\n                    <input type=\"checkbox\"\r\n                           @change=\"handleCheck(item,idx,$event)\"\r\n                           :checked=\"selectedItems.filter(a=>a.id === item.id).length>0\"\r\n                    />\r\n                </td>\r\n                <td v-if=\"numberVisible\">{{idx+1}}</td>\r\n                <template v-for=\"column in columns\">\r\n                    <td :key=\"column.field\">{{item[column.field]}}</td>\r\n                </template>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"w-table\",\r\n    props: {\r\n      dataSource: {//\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      columns: { // 表头的数据\r\n        type: Array,\r\n        default: () => [],\r\n        required: true\r\n      },\r\n      numberVisible: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      bordered: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      selectedItems: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      indeterminate: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      orderBy: {\r\n        type: Object,\r\n        default: () => ({})\r\n      }\r\n    },\r\n    watch: {\r\n      selectedItems() {\r\n        if (this.selectedItems.length === this.dataSource.length) {\r\n\r\n        } else if (this.selectedItems.length === 0) {\r\n\r\n        } else {\r\n\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ardAllItemsSelected() {\r\n        let sortedData = this.dataSource.map(ds => ds.id).sort();\r\n        let sortedSelData = this.selectedItems.map(si => si.id).sort();\r\n        if (sortedData.length !== sortedSelData.length) {\r\n          return false;\r\n        }\r\n        let equal = true;\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n          if (sortedData[i].id !== sortedSelData[i].id) {\r\n            equal = false;\r\n            break;\r\n          }\r\n        }\r\n        return equal;\r\n      }\r\n    },\r\n    methods: {\r\n      handleCheck(item, index, event) {\r\n        let selected = event.target.checked;\r\n        let copy = JSON.parse(JSON.stringify(this.selectedItems));\r\n        if (selected) {\r\n          copy.push(item);\r\n        } else {\r\n          copy = copy.filter(a => a.id !== item.id);\r\n        }\r\n        this.$emit('update:selectedItems', copy);\r\n      },\r\n      onSelectAll(e) {\r\n        let selected = e.target.checked;\r\n        this.$emit('update:selectedItems', selected ? this.dataSource : [])\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .w-table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        border-spacing: 0;\r\n        &.bordered {\r\n            border: 1px solid #ccc;\r\n            th, td {\r\n                border: 1px solid #ccc;\r\n            }\r\n        }\r\n        &-head {\r\n\r\n        }\r\n        &-body {\r\n\r\n        }\r\n        th, td {\r\n            padding: 8px 8px;\r\n        }\r\n        th {\r\n            text-align: left;\r\n        }\r\n        tr {\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        tbody {\r\n            tr:nth-child(odd) {\r\n                background-color: #fafafa;;\r\n            }\r\n            tr:nth-child(even):hover {\r\n                background-color: #9d9f;\r\n            }\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/components/table"}]}