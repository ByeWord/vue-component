{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\tableFixable\\table.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\tableFixable\\table.vue","mtime":1579702487939},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidy10YWJsZSIsCiAgcHJvcHM6IHsKICAgIGRhdGFTb3VyY2U6IHsKICAgICAgLy8KICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGNvbHVtbnM6IHsKICAgICAgLy8g6KGo5aS055qE5pWw5o2uCiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0sCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbnVtYmVyVmlzaWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgYm9yZGVyZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHNlbGVjdGVkSXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGluZGV0ZXJtaW5hdGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBvcmRlckJ5OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHt9OwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgc2VsZWN0ZWRJdGVtczogZnVuY3Rpb24gc2VsZWN0ZWRJdGVtcygpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPT09IHRoaXMuZGF0YVNvdXJjZS5sZW5ndGgpIHt9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtcy5sZW5ndGggPT09IDApIHt9IGVsc2Uge30KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBhcmRBbGxJdGVtc1NlbGVjdGVkOiBmdW5jdGlvbiBhcmRBbGxJdGVtc1NlbGVjdGVkKCkgewogICAgICB2YXIgc29ydGVkRGF0YSA9IHRoaXMuZGF0YVNvdXJjZS5tYXAoZnVuY3Rpb24gKGRzKSB7CiAgICAgICAgcmV0dXJuIGRzLmlkOwogICAgICB9KS5zb3J0KCk7CiAgICAgIHZhciBzb3J0ZWRTZWxEYXRhID0gdGhpcy5zZWxlY3RlZEl0ZW1zLm1hcChmdW5jdGlvbiAoc2kpIHsKICAgICAgICByZXR1cm4gc2kuaWQ7CiAgICAgIH0pLnNvcnQoKTsKCiAgICAgIGlmIChzb3J0ZWREYXRhLmxlbmd0aCAhPT0gc29ydGVkU2VsRGF0YS5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBlcXVhbCA9IHRydWU7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRlZERhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoc29ydGVkRGF0YVtpXS5pZCAhPT0gc29ydGVkU2VsRGF0YVtpXS5pZCkgewogICAgICAgICAgZXF1YWwgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGVxdWFsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2hlY2s6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrKGl0ZW0sIGluZGV4LCBldmVudCkgewogICAgICB2YXIgc2VsZWN0ZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDsKICAgICAgdmFyIGNvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc2VsZWN0ZWRJdGVtcykpOwoKICAgICAgaWYgKHNlbGVjdGVkKSB7CiAgICAgICAgY29weS5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIGNvcHkgPSBjb3B5LmZpbHRlcihmdW5jdGlvbiAoYSkgewogICAgICAgICAgcmV0dXJuIGEuaWQgIT09IGl0ZW0uaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzZWxlY3RlZEl0ZW1zJywgY29weSk7CiAgICB9LAogICAgb25TZWxlY3RBbGw6IGZ1bmN0aW9uIG9uU2VsZWN0QWxsKGUpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gZS50YXJnZXQuY2hlY2tlZDsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNlbGVjdGVkSXRlbXMnLCBzZWxlY3RlZCA/IHRoaXMuZGF0YVNvdXJjZSA6IFtdKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdGFibGUyID0gdGhpcy4kcmVmcy50YWJsZS5jbG9uZU5vZGUodHJ1ZSk7CiAgICBBcnJheS5mcm9tKHRhYmxlMikubWFwKCk7CiAgfQp9Ow=="},{"version":3,"sources":["table.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"w-table-wrapper\">\r\n        <div class=\"w-table-header\">\r\n\r\n        </div>\r\n        <table class=\"w-table\" :class=\"{bordered}\" ref=\"table\">\r\n            <thead class=\"w-table-head\">\r\n            <tr>\r\n                <th>\r\n                    <input\r\n                            type=\"checkbox\"\r\n                            @change=\"onSelectAll\"\r\n                            :checked=\"ardAllItemsSelected\"\r\n                            ref=\"allChecked\"\r\n                    />\r\n                </th>\r\n                <th v-if=\"numberVisible\">#</th>\r\n                <th v-for=\"column in columns\" :key=\"column.field\">\r\n                    {{column.text}}<span v-if=\"column.field in orderBy\" class=\"w-table-sorter\">↑↓</span>\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody class=\"w-table-body\">\r\n            <tr v-for=\"(item,idx) in dataSource\" :key=\"item.id\">\r\n                <td>\r\n                    <input type=\"checkbox\"\r\n                           @change=\"handleCheck(item,idx,$event)\"\r\n                           :checked=\"selectedItems.filter(a=>a.id === item.id).length>0\"\r\n                    />\r\n                </td>\r\n                <td v-if=\"numberVisible\">{{idx+1}}</td>\r\n                <template v-for=\"column in columns\">\r\n                    <td :key=\"column.field\">{{item[column.field]}}</td>\r\n                </template>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"w-table\",\r\n    props: {\r\n      dataSource: {//\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      columns: { // 表头的数据\r\n        type: Array,\r\n        default: () => [],\r\n        required: true\r\n      },\r\n      numberVisible: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      bordered: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      selectedItems: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      indeterminate: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      orderBy: {\r\n        type: Object,\r\n        default: () => ({})\r\n      }\r\n    },\r\n    watch: {\r\n      selectedItems() {\r\n        if (this.selectedItems.length === this.dataSource.length) {\r\n\r\n        } else if (this.selectedItems.length === 0) {\r\n\r\n        } else {\r\n\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ardAllItemsSelected() {\r\n        let sortedData = this.dataSource.map(ds => ds.id).sort();\r\n        let sortedSelData = this.selectedItems.map(si => si.id).sort();\r\n        if (sortedData.length !== sortedSelData.length) {\r\n          return false;\r\n        }\r\n        let equal = true;\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n          if (sortedData[i].id !== sortedSelData[i].id) {\r\n            equal = false;\r\n            break;\r\n          }\r\n        }\r\n        return equal;\r\n      }\r\n    },\r\n    methods: {\r\n      handleCheck(item, index, event) {\r\n        let selected = event.target.checked;\r\n        let copy = JSON.parse(JSON.stringify(this.selectedItems));\r\n        if (selected) {\r\n          copy.push(item);\r\n        } else {\r\n          copy = copy.filter(a => a.id !== item.id);\r\n        }\r\n        this.$emit('update:selectedItems', copy);\r\n      },\r\n      onSelectAll(e) {\r\n        let selected = e.target.checked;\r\n        this.$emit('update:selectedItems', selected ? this.dataSource : [])\r\n      }\r\n    },\r\n    mounted(){\r\n      let table2 = this.$refs.table.cloneNode(true);\r\n      Array.from(table2).map()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .w-table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        border-spacing: 0;\r\n        &.bordered {\r\n            border: 1px solid #ccc;\r\n            th, td {\r\n                border: 1px solid #ccc;\r\n            }\r\n        }\r\n        &-head {\r\n\r\n        }\r\n        &-body {\r\n\r\n        }\r\n        th, td {\r\n            padding: 8px 8px;\r\n        }\r\n        th {\r\n            text-align: left;\r\n        }\r\n        tr {\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        tbody {\r\n            tr:nth-child(odd) {\r\n                background-color: #fafafa;;\r\n            }\r\n            tr:nth-child(even):hover {\r\n                background-color: #9d9f;\r\n            }\r\n        }\r\n    }\r\n</style>"],"sourceRoot":"src/components/tableFixable"}]}