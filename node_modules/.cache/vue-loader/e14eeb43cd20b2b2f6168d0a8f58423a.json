{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\temp\\temp-table.vue?vue&type=style&index=0&id=24a50e0f&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\temp\\temp-table.vue","mtime":1581498338139},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi53LXRhYmxlIHsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICBib3JkZXItc3BhY2luZzogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgJi13cmFwcGVyIHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB9CiAgICAmLWhlYWRlciB7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmOTsKICAgICAgICAmLWZpeGVkIHsKICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMTJweDsKICAgICAgICB9CiAgICB9CiAgICAmLWJvZHkgewoKICAgIH0KICAgICYtY2VsbCB7CiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U4ZWFlYzsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICAgICAgcGFkZGluZzogOHB4OwogICAgfQp9Cgoub3ZlcmZsb3dZLWF1dG8gewogICAgb3ZlcmZsb3cteTogYXV0bzsKfQo="},{"version":3,"sources":["temp-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"temp-table.vue","sourceRoot":"src/components/table/temp","sourcesContent":["<template>\r\n    <div class=\"w-table-wrapper\" ref=\"wrapper\">\r\n        <div class=\"w-table-header\" :style=\"tHeaderStyle\" ref=\"tableHeader\">\r\n            <table class=\"w-table\" cellspacing=\"0\" cellpadding=\"0\">\r\n                <colgroup>\r\n                    <template v-for=\"col in columns\">\r\n                        <col :width=\"!!col.width?col.width:colWidth\"></col>\r\n                    </template>\r\n                </colgroup>\r\n                <thead>\r\n                <tr class=\"w-table-row\">\r\n                    <th v-for=\"col in columns\" class=\"w-table-cell\">\r\n                        {{col.text}}\r\n                    </th>\r\n                </tr>\r\n                </thead>\r\n            </table>\r\n        </div>\r\n        <div class=\"w-table-body\" :class=\"tBodyClass\" :style=\"tBodyStyle\" ref=\"tBody\">\r\n            <table class=\"w-table\" cellspacing=\"0\" cellpadding=\"0\" ref=\"tBodyTable\">\r\n                <colgroup>\r\n                    <template v-for=\"col in columns\">\r\n                        <col :width=\"!!col.width?col.width:colWidth\"></col>\r\n                    </template>\r\n                </colgroup>\r\n                <tbody>\r\n                <template v-for=\"(row,rowIndex) in data\">\r\n                    <tr class=\"w-table-row\">\r\n                        <td v-for=\"col in columns\" class=\"w-table-cell\">\r\n                            <template v-if=\"col.render\">\r\n                                <table-render :render=\"col.render\" :row=\"row\" :column=\"col\"\r\n                                              :index=\"rowIndex\"></table-render>\r\n                            </template>\r\n                            <template v-else-if=\"col.slot\">\r\n                                <slot :name=\"col.slot\" :row=\"row\" :column=\"col\" :index=\"rowIndex\"></slot>\r\n                            </template>\r\n                            <template v-else>\r\n                                {{row[col.field]}}\r\n                            </template>\r\n                        </td>\r\n                    </tr>\r\n                </template>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import TableRender from './table-render';\r\n\r\n  export default {\r\n    name: \"temp-table\",\r\n    components: {\r\n      TableRender\r\n    },\r\n    props: {\r\n      /**\r\n       * formatter:\r\n       * {\r\n       *     keyï¼Œ\r\n       *     title\r\n       * }\r\n       */\r\n      columns: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      data: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      height: {\r\n        type: String | Number\r\n      },\r\n      bordered: {\r\n        type: Boolean\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        colWidth: undefined,\r\n        fixedHeaderPadding: undefined,\r\n        headerHeight: undefined\r\n      }\r\n    },\r\n    computed: {\r\n      tBodyStyle() {\r\n        if (this.height) {\r\n          return {height: `${this.height-this.headerHeight }px`}\r\n        }\r\n        return '';\r\n      },\r\n      tHeaderStyle() {\r\n        if (this.height && this.fixedHeaderPadding > 0) {\r\n          return {paddingRight: this.fixedHeaderPadding + 'px'}\r\n        }\r\n        return '';\r\n      },\r\n      tBodyClass() {\r\n        if (this.height) {\r\n          return ['overflowY-auto']\r\n        }\r\n        return [];\r\n      }\r\n    },\r\n    mounted() {\r\n      this.colWidth = this.calColWidth();\r\n      let {height: headerHeight} = this.$refs.tableHeader.getBoundingClientRect();\r\n      let {width: bodyWrapperWidth} = this.$refs.tBody.getBoundingClientRect();\r\n      let {width: bodyWidth} = this.$refs.tBodyTable.getBoundingClientRect();\r\n      this.fixedHeaderPadding = parseInt(bodyWrapperWidth - bodyWidth);\r\n      this.headerHeight = headerHeight;\r\n      this.onWinResize = () => this.calColWidth();\r\n      window.addEventListener('resize', this.onWinResize);\r\n    },\r\n    methods: {\r\n      calColWidth() {\r\n        let wrapper = this.$refs.wrapper;\r\n        let {width} = wrapper.getBoundingClientRect();\r\n\r\n        let colsWithWidth = this.columns.filter(col => col.width);\r\n        let colsWithOutWidth = this.columns.filter(col => !col.width);\r\n\r\n        let sumColWithWidth = colsWithWidth.reduce((prev, cur) => {\r\n          return cur.width + prev;\r\n        }, 0);\r\n\r\n        let restWidth = width - sumColWithWidth;\r\n\r\n        let perColWidth = Math.floor(restWidth / colsWithOutWidth.length);\r\n        console.log('perColWidth', perColWidth);\r\n        return perColWidth;\r\n      }\r\n    },\r\n    beforeDestroy() {\r\n      window.removeEventListener('resize', this.onWinResize);\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .w-table {\r\n        border-collapse: collapse;\r\n        border-spacing: 0;\r\n        width: 100%;\r\n        &-wrapper {\r\n            position: relative;\r\n        }\r\n        &-header {\r\n            background-color: #f8f8f9;\r\n            &-fixed {\r\n                padding-right: 12px;\r\n            }\r\n        }\r\n        &-body {\r\n\r\n        }\r\n        &-cell {\r\n            text-align: left;\r\n            border-bottom: 1px solid #e8eaec;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n            padding: 8px;\r\n        }\r\n    }\r\n\r\n    .overflowY-auto {\r\n        overflow-y: auto;\r\n    }\r\n</style>"]}]}