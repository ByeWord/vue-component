{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagination\\src\\pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagination\\src\\pagination.vue","mtime":1580533879482},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBXSWNvbiBmcm9tICcuLi8uLi9pY29uL3NyYy9pY29uJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiV1BhZ2luYXRpb24iLAogIGNvbXBvbmVudHM6IHsKICAgIFdJY29uCiAgfSwKICBwcm9wczogewogICAgcGFnZVNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMAogICAgfSwKICAgIHRvdGFsOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIHBhZ2VTaXplczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gWzEwLCAyMCwgMzAsIDQwLCA1MCwgMTAwXQogICAgfSwKICAgIHBhZ2VyQ291bnQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA3LAogICAgICB2YWxpZGF0b3I6ICh2KSA9PiB7CiAgICAgICAgaWYgKHYgPj0gNSAmJiB2ICUgMiA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ3BhZ2VyQ291bnQgbXVzdCBiZSAybisxIGFuZCBhdCBsZXNzIDUnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjdXJyZW50UGFnZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBwcmV2VGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICB9LAogICAgbmV4dFRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIGhpZGVPblNpbmdsZVBhZ2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1ByZXZNb3JlOiBmYWxzZSwKICAgICAgc2hvd05leHRNb3JlOiBmYWxzZSwKICAgICAgd2FudGVkUHJldk1vcmU6IGZhbHNlLAogICAgICB3YW50ZWROZXh0TW9yZTogZmFsc2UKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYWdlcnMoKSB7CiAgICAgIGxldCBwYWdlQ291bnQgPSB0aGlzLm1heFBhZ2VyOwoKICAgICAgbGV0IHBhZ2VyQ291bnQgPSBOdW1iZXIodGhpcy5wYWdlckNvdW50KTsKCiAgICAgIGxldCBoYWxmUGFnZXJDb3VudCA9IE1hdGguY2VpbChwYWdlckNvdW50IC8gMik7CgogICAgICBsZXQgc2hvd1ByZXZNb3JlID0gZmFsc2U7CgogICAgICBsZXQgc2hvd05leHRNb3JlID0gZmFsc2U7CgogICAgICBsZXQgY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlOwoKICAgICAgaWYgKHBhZ2VDb3VudCA+IHBhZ2VyQ291bnQpIHsKICAgICAgICBpZiAoY3VycmVudFBhZ2UgPiBoYWxmUGFnZXJDb3VudCkgewogICAgICAgICAgc2hvd1ByZXZNb3JlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDwgcGFnZUNvdW50IC0gaGFsZlBhZ2VyQ291bnQpIHsKICAgICAgICAgIHNob3dOZXh0TW9yZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zdCBhcnJheSA9IFtdOwogICAgICBpZiAoc2hvd1ByZXZNb3JlICYmICFzaG93TmV4dE1vcmUpIHsKICAgICAgICBjb25zdCBzdGFydFBhZ2UgPSBwYWdlQ291bnQgLSAocGFnZXJDb3VudCAtIDIpOwogICAgICAgIGZvciAobGV0IGkgPSBzdGFydFBhZ2U7IGkgPCBwYWdlQ291bnQ7IGkrKykgewogICAgICAgICAgYXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoIXNob3dQcmV2TW9yZSAmJiBzaG93TmV4dE1vcmUpIHsKICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBhZ2VyQ291bnQ7IGkrKykgewogICAgICAgICAgYXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoc2hvd1ByZXZNb3JlICYmIHNob3dOZXh0TW9yZSkgewogICAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGguZmxvb3IocGFnZXJDb3VudCAvIDIpIC0gMTsKICAgICAgICBmb3IgKGxldCBpID0gY3VycmVudFBhZ2UgLSBvZmZzZXQ7IGkgPD0gY3VycmVudFBhZ2UgKyBvZmZzZXQ7IGkrKykgewogICAgICAgICAgYXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPCBwYWdlQ291bnQ7IGkrKykgewogICAgICAgICAgYXJyYXkucHVzaChpKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5zaG93UHJldk1vcmUgPSBzaG93UHJldk1vcmU7CiAgICAgIHRoaXMuc2hvd05leHRNb3JlID0gc2hvd05leHRNb3JlOwoKCiAgICAgIHJldHVybiBhcnJheTsKICAgIH0sCiAgICBtYXhQYWdlcigpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRvdGFsIC8gdGhpcy5wYWdlU2l6ZSk7CiAgICB9CiAgfSwKICB3YXRjaDp7CiAgICBzaG93UHJldk1vcmUodil7CiAgICAgIGlmICh2KXsKICAgICAgICB0aGlzLndhbnRlZFByZXZNb3JlID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIHNob3dOZXh0TW9yZSh2KXsKICAgICAgaWYodil7CiAgICAgICAgdGhpcy53YW50ZWROZXh0TW9yZSA9IGZhbHNlCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXZDbGljaygpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPiAxKSB7CiAgICAgICAgdGhpcy4kZW1pdCgncHJldkNsaWNrJywgdGhpcy5jdXJyZW50UGFnZSAtIDEpOwogICAgICAgIHRoaXMuY3VycmVudENoYW5nZSh0aGlzLmN1cnJlbnRQYWdlIC0gMSk7CiAgICAgIH0KICAgIH0sCiAgICBuZXh0Q2xpY2soKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy5tYXhQYWdlcikgewogICAgICAgIHRoaXMuJGVtaXQoJ25leHRDbGljaycsIHRoaXMuY3VycmVudFBhZ2UgKyAxKTsKICAgICAgICB0aGlzLmN1cnJlbnRDaGFuZ2UodGhpcy5jdXJyZW50UGFnZSArIDEpOwogICAgICB9CiAgICB9LAogICAgbW9yZVBhZ2Vycyhjb21tYW5kKSB7CiAgICAgIGxldCB0YXJnZXRQYWdlciA9IG51bGw7CiAgICAgIGlmIChjb21tYW5kID09PSAncHJldi1tb3JlJykgewogICAgICAgIHRhcmdldFBhZ2VyID0gdGhpcy5jdXJyZW50UGFnZSAtICh0aGlzLnBhZ2VyQ291bnQgLSAyKTsKICAgICAgICBpZiAodGFyZ2V0UGFnZXIgPD0gMCkgewogICAgICAgICAgdGFyZ2V0UGFnZXIgPSB0aGlzLmN1cnJlbnRQYWdlCiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT09ICduZXh0LW1vcmUnKSB7CiAgICAgICAgdGFyZ2V0UGFnZXIgPSB0aGlzLmN1cnJlbnRQYWdlICsgKHRoaXMucGFnZXJDb3VudCAtIDIpOwogICAgICAgIGlmICh0YXJnZXRQYWdlciA+IHRoaXMubWF4UGFnZXIpIHsKICAgICAgICAgIHRhcmdldFBhZ2VyID0gdGhpcy5tYXhQYWdlcgogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmN1cnJlbnRDaGFuZ2UodGFyZ2V0UGFnZXIpOwogICAgfSwKICAgIHNpemVDaGFuZ2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3NpemVDaGFuZ2UnKQogICAgfSwKICAgIGN1cnJlbnRDaGFuZ2UocGFnZSkgewogICAgICBjb25zb2xlLmxvZyhwYWdlKTsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmN1cnJlbnRDaGFuZ2UnLCBwYWdlKQogICAgfQogIH0KfQo="},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components/pagination/src","sourcesContent":["<!--v-if=\"pagers.length === 1 && hideOnSinglePage\"-->\r\n<template>\r\n    <div class=\"w-pagination\">\r\n        <!--<span class=\"w-pagination__total\">共{{total}}条</span>-->\r\n        <!--<span class=\"w-pagination__sizes\">100条/页</span>-->\r\n        <button class=\"btn-prev\" :class=\"{disabled: currentPage === 1}\" @click=\"prevClick\">\r\n            <w-icon name=\"back\"></w-icon>\r\n        </button>\r\n        <ul class=\"w-pagination__pager\">\r\n            <li\r\n                    :class=\"{ active: currentPage === 1, disabled }\"\r\n                    v-if=\"maxPager > 0\"\r\n                    class=\"number\"\r\n                    @click=\"currentChange(1)\">1\r\n            </li>\r\n            <li\r\n                    class=\"pager-more pager-more-prev\"\r\n                    v-if=\"showPrevMore\"\r\n                    @mouseenter=\"wantedPrevMore = true\"\r\n                    @mouseleave=\"wantedPrevMore = false\"\r\n                    @click=\"morePagers('prev-more')\"\r\n            >\r\n                <w-icon v-if=\"!wantedPrevMore\" name=\"checkmore\"></w-icon>\r\n                <w-icon v-if=\"wantedPrevMore\" name=\"left\"></w-icon>\r\n            </li>\r\n            <li\r\n                    class=\"number\"\r\n                    v-for=\"(pager,index) in pagers\"\r\n                    :key=\"`page_${index}_${pager}`\"\r\n                    @click=\"currentChange(pager)\"\r\n                    :class=\"{ active: currentPage === pager, disabled }\"\r\n            >\r\n                {{pager}}\r\n            </li>\r\n            <li\r\n                    class=\"pager-more pager-more-next\"\r\n                    v-if=\"showNextMore\"\r\n                    @mouseenter=\"wantedNextMore = true\"\r\n                    @mouseleave=\"wantedNextMore = false\"\r\n                    @click=\"morePagers('next-more')\"\r\n            >\r\n                <w-icon v-if=\"!wantedNextMore\" name=\"checkmore\"></w-icon>\r\n                <w-icon v-if=\"wantedNextMore\" name=\"right\"></w-icon>\r\n            </li>\r\n            <li\r\n                    :class=\"{ active: currentPage === maxPager, disabled }\"\r\n                    v-if=\"maxPager > 1\"\r\n                    class=\"number\"\r\n                    @click=\"currentChange(maxPager)\"\r\n            >{{maxPager}}\r\n            </li>\r\n        </ul>\r\n        <button class=\"btn-next\" :class=\"{disabled: currentPage === maxPager}\" @click=\"nextClick\">\r\n            <w-icon name=\"next\"></w-icon>\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import WIcon from '../../icon/src/icon';\r\n\r\n  export default {\r\n    name: \"WPagination\",\r\n    components: {\r\n      WIcon\r\n    },\r\n    props: {\r\n      pageSize: {\r\n        type: Number,\r\n        default: 10\r\n      },\r\n      total: {\r\n        type: Number\r\n      },\r\n      pageSizes: {\r\n        type: Array,\r\n        default: () => [10, 20, 30, 40, 50, 100]\r\n      },\r\n      pagerCount: {\r\n        type: Number,\r\n        default: 7,\r\n        validator: (v) => {\r\n          if (v >= 5 && v % 2 === 1) {\r\n            return true;\r\n          }\r\n          console.error('pagerCount must be 2n+1 and at less 5');\r\n          return false;\r\n        }\r\n      },\r\n      currentPage: {\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      prevText: {\r\n        type: String,\r\n      },\r\n      nextText: {\r\n        type: String,\r\n      },\r\n      hideOnSinglePage: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      disabled: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        showPrevMore: false,\r\n        showNextMore: false,\r\n        wantedPrevMore: false,\r\n        wantedNextMore: false\r\n      }\r\n    },\r\n    computed: {\r\n      pagers() {\r\n        let pageCount = this.maxPager;\r\n\r\n        let pagerCount = Number(this.pagerCount);\r\n\r\n        let halfPagerCount = Math.ceil(pagerCount / 2);\r\n\r\n        let showPrevMore = false;\r\n\r\n        let showNextMore = false;\r\n\r\n        let currentPage = this.currentPage;\r\n\r\n        if (pageCount > pagerCount) {\r\n          if (currentPage > halfPagerCount) {\r\n            showPrevMore = true;\r\n          }\r\n          if (currentPage < pageCount - halfPagerCount) {\r\n            showNextMore = true;\r\n          }\r\n        }\r\n\r\n        const array = [];\r\n        if (showPrevMore && !showNextMore) {\r\n          const startPage = pageCount - (pagerCount - 2);\r\n          for (let i = startPage; i < pageCount; i++) {\r\n            array.push(i);\r\n          }\r\n        } else if (!showPrevMore && showNextMore) {\r\n          for (let i = 2; i < pagerCount; i++) {\r\n            array.push(i);\r\n          }\r\n        } else if (showPrevMore && showNextMore) {\r\n          const offset = Math.floor(pagerCount / 2) - 1;\r\n          for (let i = currentPage - offset; i <= currentPage + offset; i++) {\r\n            array.push(i);\r\n          }\r\n        } else {\r\n          for (let i = 2; i < pageCount; i++) {\r\n            array.push(i);\r\n          }\r\n        }\r\n        this.showPrevMore = showPrevMore;\r\n        this.showNextMore = showNextMore;\r\n\r\n\r\n        return array;\r\n      },\r\n      maxPager() {\r\n        return Math.ceil(this.total / this.pageSize);\r\n      }\r\n    },\r\n    watch:{\r\n      showPrevMore(v){\r\n        if (v){\r\n          this.wantedPrevMore = false\r\n        }\r\n      },\r\n      showNextMore(v){\r\n        if(v){\r\n          this.wantedNextMore = false\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      prevClick() {\r\n        if (this.currentPage > 1) {\r\n          this.$emit('prevClick', this.currentPage - 1);\r\n          this.currentChange(this.currentPage - 1);\r\n        }\r\n      },\r\n      nextClick() {\r\n        if (this.currentPage < this.maxPager) {\r\n          this.$emit('nextClick', this.currentPage + 1);\r\n          this.currentChange(this.currentPage + 1);\r\n        }\r\n      },\r\n      morePagers(command) {\r\n        let targetPager = null;\r\n        if (command === 'prev-more') {\r\n          targetPager = this.currentPage - (this.pagerCount - 2);\r\n          if (targetPager <= 0) {\r\n            targetPager = this.currentPage\r\n          }\r\n        } else if (command === 'next-more') {\r\n          targetPager = this.currentPage + (this.pagerCount - 2);\r\n          if (targetPager > this.maxPager) {\r\n            targetPager = this.maxPager\r\n          }\r\n        }\r\n        this.currentChange(targetPager);\r\n      },\r\n      sizeChange() {\r\n        this.$emit('sizeChange')\r\n      },\r\n      currentChange(page) {\r\n        console.log(page);\r\n        this.$emit('update:currentChange', page)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @mixin pager {\r\n        padding: 0 4px;\r\n        vertical-align: top;\r\n        display: inline-block;\r\n        font-size: 13px;\r\n        min-width: 36px;\r\n        height: 28px;\r\n        line-height: 28px;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background-color: #f4f4f5;\r\n        border-radius: 4px;\r\n        border: none;\r\n    }\r\n\r\n    .w-pagination {\r\n        display: flex;\r\n        align-items: center;\r\n        button {\r\n            display: flex !important;\r\n            outline: none;\r\n            align-items: center;\r\n            justify-content: center;\r\n            @include pager;\r\n        }\r\n        &__pager {\r\n            padding: 0;\r\n            margin: 0 6px;\r\n            display: flex;\r\n            align-items: center;\r\n            li {\r\n                list-style: none;\r\n                &:not(:first-child) {\r\n                    margin-left: 2px;\r\n                }\r\n                @include pager;\r\n                &.active {\r\n                    color: #fff;\r\n                    background-color: #409eff;\r\n                }\r\n                &.pager-more {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .fade-enter,\r\n    .fade-leave-to {\r\n        opacity: 0;\r\n    }\r\n\r\n    .fade-enter-active,\r\n    .fade-leave-active {\r\n        transition: opacity 1s\r\n    }\r\n</style>"]}]}