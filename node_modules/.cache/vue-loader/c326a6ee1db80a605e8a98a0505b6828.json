{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagination\\src\\pagination.vue?vue&type=style&index=0&id=692ea2da&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagination\\src\\pagination.vue","mtime":1584426976866},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAbWl4aW4gcGFnZXIgewogICAgcGFkZGluZzogMCA0cHg7CiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgZm9udC1zaXplOiAxM3B4OwogICAgbWluLXdpZHRoOiAzNnB4OwogICAgaGVpZ2h0OiAyOHB4OwogICAgbGluZS1oZWlnaHQ6IDI4cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY1OwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm9yZGVyOiBub25lOwp9Cgoudy1wYWdpbmF0aW9uIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgYnV0dG9uIHsKICAgICAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7CiAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIEBpbmNsdWRlIHBhZ2VyOwogICAgfQogICAgJl9fcGFnZXIgewogICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgbWFyZ2luOiAwIDZweDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgbGkgewogICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lOwogICAgICAgICAgICAmOm5vdCg6Zmlyc3QtY2hpbGQpIHsKICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAycHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQGluY2x1ZGUgcGFnZXI7CiAgICAgICAgICAgICYuYWN0aXZlIHsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzQwOWVmZjsKICAgICAgICAgICAgfQogICAgICAgICAgICAmLnBhZ2VyLW1vcmUgewogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKLmZhZGUtZW50ZXIsCi5mYWRlLWxlYXZlLXRvIHsKICAgIG9wYWNpdHk6IDA7Cn0KCi5mYWRlLWVudGVyLWFjdGl2ZSwKLmZhZGUtbGVhdmUtYWN0aXZlIHsKICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMXMKfQo="},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components/pagination/src","sourcesContent":["<!--v-if=\"pagers.length === 1 && hideOnSinglePage\"-->\r\n<template>\r\n    <div class=\"w-pagination\">\r\n        <!--<span class=\"w-pagination__total\">共{{total}}条</span>-->\r\n        <!--<span class=\"w-pagination__sizes\">100条/页</span>-->\r\n        <button class=\"btn-prev\" :class=\"{disabled: currentPage === 1}\" @click=\"prevClick\">\r\n            <w-icon name=\"back\"></w-icon>\r\n        </button>\r\n        <ul class=\"w-pagination__pager\">\r\n            <li\r\n                    :class=\"{ active: currentPage === 1, disabled }\"\r\n                    v-if=\"maxPager > 0\"\r\n                    class=\"number\"\r\n                    @click=\"currentChange(1)\">1\r\n            </li>\r\n            <li\r\n                    class=\"pager-more pager-more-prev\"\r\n                    v-if=\"showPrevMore\"\r\n                    @mouseenter=\"wantedPrevMore = true\"\r\n                    @mouseleave=\"wantedPrevMore = false\"\r\n                    @click=\"morePagers('prev-more')\"\r\n            >\r\n                <w-icon v-if=\"!wantedPrevMore\" name=\"checkmore\"></w-icon>\r\n                <w-icon v-if=\"wantedPrevMore\" name=\"left\"></w-icon>\r\n            </li>\r\n            <li\r\n                    class=\"number\"\r\n                    v-for=\"(pager,index) in pagers\"\r\n                    :key=\"`page_${index}_${pager}`\"\r\n                    @click=\"currentChange(pager)\"\r\n                    :class=\"{ active: currentPage === pager, disabled }\"\r\n            >\r\n                {{pager}}\r\n            </li>\r\n            <li\r\n                    class=\"pager-more pager-more-next\"\r\n                    v-if=\"showNextMore\"\r\n                    @mouseenter=\"wantedNextMore = true\"\r\n                    @mouseleave=\"wantedNextMore = false\"\r\n                    @click=\"morePagers('next-more')\"\r\n            >\r\n                <w-icon v-if=\"!wantedNextMore\" name=\"checkmore\"></w-icon>\r\n                <w-icon v-if=\"wantedNextMore\" name=\"right\"></w-icon>\r\n            </li>\r\n            <li\r\n                    :class=\"{ active: currentPage === maxPager, disabled }\"\r\n                    v-if=\"maxPager > 1\"\r\n                    class=\"number\"\r\n                    @click=\"currentChange(maxPager)\"\r\n            >{{maxPager}}\r\n            </li>\r\n        </ul>\r\n        <button class=\"btn-next\" :class=\"{disabled: currentPage === maxPager}\" @click=\"nextClick\">\r\n            <w-icon name=\"next\"></w-icon>\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import WIcon from '../../icon/src/icon';\r\n\r\n  export default {\r\n    name: \"WPagination\",\r\n    components: {\r\n      WIcon\r\n    },\r\n    props: {\r\n      pageSize: {\r\n        type: Number,\r\n        default: 10\r\n      },\r\n      total: {\r\n        type: Number\r\n      },\r\n      pageSizes: {\r\n        type: Array,\r\n        default: () => [10, 20, 30, 40, 50, 100]\r\n      },\r\n      pagerCount: {\r\n        type: Number,\r\n        default: 7,\r\n        validator: (v) => {\r\n          if (v >= 5 && v % 2 === 1) {\r\n            return true;\r\n          }\r\n          console.error('pagerCount must be 2n+1 and at less 5');\r\n          return false;\r\n        }\r\n      },\r\n      currentPage: { //当前页码\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      prevText: { // 前一页的文本内容\r\n        type: String,\r\n      },\r\n      nextText: {//下一页的文本内容\r\n        type: String,\r\n      },\r\n      hideOnSinglePage: {//只有一页是否影藏\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      disabled: { //禁止按\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        showPrevMore: false,\r\n        showNextMore: false,\r\n        wantedPrevMore: false,\r\n        wantedNextMore: false\r\n      }\r\n    },\r\n    computed: {\r\n      pagers() {\r\n        let pageCount = this.maxPager;\r\n\r\n        let pagerCount = Number(this.pagerCount);\r\n\r\n        let halfPagerCount = Math.ceil(pagerCount / 2);\r\n\r\n        let showPrevMore = false;\r\n\r\n        let showNextMore = false;\r\n\r\n        let currentPage = this.currentPage;\r\n\r\n        if (pageCount > pagerCount) {\r\n          if (currentPage > halfPagerCount) {\r\n            showPrevMore = true;\r\n          }\r\n          if (currentPage < pageCount - halfPagerCount) {\r\n            showNextMore = true;\r\n          }\r\n        }\r\n\r\n        const array = [];\r\n        if (showPrevMore && !showNextMore) {\r\n          const startPage = pageCount - (pagerCount - 2);\r\n          for (let i = startPage; i < pageCount; i++) {\r\n            array.push(i);\r\n          }\r\n        } else if (!showPrevMore && showNextMore) {\r\n          for (let i = 2; i < pagerCount; i++) {\r\n            array.push(i);\r\n          }\r\n        } else if (showPrevMore && showNextMore) {\r\n          const offset = Math.floor(pagerCount / 2) - 1;\r\n          for (let i = currentPage - offset; i <= currentPage + offset; i++) {\r\n            array.push(i);\r\n          }\r\n        } else {\r\n          for (let i = 2; i < pageCount; i++) {\r\n            array.push(i);\r\n          }\r\n        }\r\n        this.showPrevMore = showPrevMore;\r\n        this.showNextMore = showNextMore;\r\n\r\n\r\n        return array;\r\n      },\r\n      maxPager() {\r\n        return Math.ceil(this.total / this.pageSize);\r\n      }\r\n    },\r\n    watch:{\r\n      showPrevMore(v){\r\n        if (v){\r\n          this.wantedPrevMore = false\r\n        }\r\n      },\r\n      showNextMore(v){\r\n        if(v){\r\n          this.wantedNextMore = false\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      prevClick() {\r\n        if (this.currentPage > 1) {\r\n          this.$emit('prevClick', this.currentPage - 1);\r\n          this.currentChange(this.currentPage - 1);\r\n        }\r\n      },\r\n      nextClick() {\r\n        if (this.currentPage < this.maxPager) {\r\n          this.$emit('nextClick', this.currentPage + 1);\r\n          this.currentChange(this.currentPage + 1);\r\n        }\r\n      },\r\n      morePagers(command) {\r\n        let targetPager = null;\r\n        if (command === 'prev-more') {\r\n          targetPager = this.currentPage - (this.pagerCount - 2);\r\n          if (targetPager <= 0) {\r\n            targetPager = this.currentPage\r\n          }\r\n        } else if (command === 'next-more') {\r\n          targetPager = this.currentPage + (this.pagerCount - 2);\r\n          if (targetPager > this.maxPager) {\r\n            targetPager = this.maxPager\r\n          }\r\n        }\r\n        this.currentChange(targetPager);\r\n      },\r\n      sizeChange() {\r\n        this.$emit('sizeChange')\r\n      },\r\n      currentChange(page) {\r\n        console.log(page);\r\n        this.$emit('update:currentChange', page)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @mixin pager {\r\n        padding: 0 4px;\r\n        vertical-align: top;\r\n        display: inline-block;\r\n        font-size: 13px;\r\n        min-width: 36px;\r\n        height: 28px;\r\n        line-height: 28px;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background-color: #f4f4f5;\r\n        border-radius: 4px;\r\n        border: none;\r\n    }\r\n\r\n    .w-pagination {\r\n        display: flex;\r\n        align-items: center;\r\n        button {\r\n            display: flex !important;\r\n            outline: none;\r\n            align-items: center;\r\n            justify-content: center;\r\n            @include pager;\r\n        }\r\n        &__pager {\r\n            padding: 0;\r\n            margin: 0 6px;\r\n            display: flex;\r\n            align-items: center;\r\n            li {\r\n                list-style: none;\r\n                &:not(:first-child) {\r\n                    margin-left: 2px;\r\n                }\r\n                @include pager;\r\n                &.active {\r\n                    color: #fff;\r\n                    background-color: #409eff;\r\n                }\r\n                &.pager-more {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .fade-enter,\r\n    .fade-leave-to {\r\n        opacity: 0;\r\n    }\r\n\r\n    .fade-enter-active,\r\n    .fade-leave-active {\r\n        transition: opacity 1s\r\n    }\r\n</style>"]}]}