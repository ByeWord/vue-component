{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagenation\\pagination.vue?vue&type=style&index=0&id=29ea8f53&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagenation\\pagination.vue","mtime":1579587888517},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmFjdGl2ZSB7CiAgICBjb2xvcjogI2ZmZjsKICAgIGJhY2tncm91bmQtY29sb3I6IGNyaW1zb247Cn0KCi5kaXNhYmxlZCB7CiAgICBjb2xvcjogI2Q5ZDlkOTsKICAgIHVzZXItc2VsZWN0OiBub25lOwp9Cgoudy1wYWdpbmF0aW9uIHsKICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHVsIHsKICAgICAgICBsaXN0LXN0eWxlOiBub25lOwogICAgICAgIHBhZGRpbmc6IDA7CiAgICAgICAgbWFyZ2luOiAwOwogICAgfQogICAgJi1pbmZvIHsKCiAgICB9CiAgICAmLW5hdiB7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7CiAgICAgICAgbGkgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICAgICAgICBwYWRkaW5nOiAwIDhweDsKICAgICAgICAgICAgbWluLXdpZHRoOiAzMnB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZDlkOWQ5OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGxpbmVhcjsKICAgICAgICAgICAgJjpub3QoOmZpcnN0LWNoaWxkKSB7CiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogOHB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgICY6bm90KC5kaXNhYmxlZCk6aG92ZXIgewogICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjcmltc29uOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgJi1qdW1wIHsKICAgICAgICBtYXJnaW4tbGVmdDogOHB4OwogICAgICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgJi1wYWdlU2VsZWN0LCBpbnB1dCwgc3BhbiB7CiAgICAgICAgICAgIGhlaWdodDogMzJweDsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICB9CiAgICAgICAgc3BhbiB7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICAgICAgICBwYWRkaW5nOiAwIDhweDsKICAgICAgICAgICAgbWluLXdpZHRoOiAzMnB4OwogICAgICAgICAgICBsaW5lLWhlaWdodDogMzJweDsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Q5ZDlkOTsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBsaW5lYXI7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkOWQ5ZDk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components/pagenation","sourcesContent":["<template>\r\n    <nav class=\"w-pagination\">\r\n        <span class=\"w-pagination-info\">共<em>{{totalPages}}</em>页/{{total}}条</span>\r\n        <ul class=\"w-pagination-nav\">\r\n            <li :class=\"{'disabled': currentPageNumber === 1}\" @click=\"skipToPage(1)\">首页</li>\r\n            <li :class=\"{'disabled': currentPageNumber === 1}\" @click=\"skipToPage(currentPageNumber-1)\">上一页</li>\r\n            <li v-for='(num,id) in pageNumbers' :key='id' @click=\"skipToPage(num)\"\r\n                :class=\"{'active':(currentPageNumber===num)}\">{{num}}\r\n            </li>\r\n            <li :class=\"{'disabled': currentPageNumber === totalPages}\" @click=\"skipToPage(currentPageNumber+1)\">\r\n                下一页\r\n            </li>\r\n            <li :class=\"{'disabled': currentPageNumber === totalPages}\" @click=\"skipToPage(totalPages)\">尾页\r\n            </li>\r\n        </ul>\r\n        <div class=\"w-pagination-jump\">\r\n            <select class=\"w-pagination-jump-pageSelect\" @change=\"handleSelectPageCount($event)\">\r\n                <option v-for=\"(num,ide) in pageSizes\" :key=\"ide\" :value=\"num\">{{num}}条/页</option>\r\n            </select>\r\n            <input type=\"text\" v-model=\"targetPageNumber\" @keyup.enter=\"submit($event)\">\r\n            <span @click=\"skipTo\">跳转</span>\r\n        </div>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"w-pagination\",\r\n    //共有多少条数据，每页显示多少条数据，有多少个分页，显示多少个分页\r\n    //数据总条数、每页显示条数、显示页码数，同时我们需要定义当前页参数（默认为1），显示条数（默认10条），跳转页（默认第1页）\r\n    props: {\r\n      currentPageNumber: {//当前页页码\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      total: {//数据总量，非页码总量\r\n        type: Number\r\n      },\r\n      pageSizes: { // 供用户选择的每页展示项目数量\r\n        type: Array,\r\n        default: () => [5, 10, 15, 20]\r\n      },\r\n      pageGroup: {//展示页码项目数量\r\n        type: Number,\r\n        default: 7\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        targetPageNumber: 1, //跳转的目标页面\r\n        pageSize: this.pageSizes[0]\r\n      }\r\n    },\r\n    computed: {\r\n      totalPages() {\r\n        return Math.ceil(this.total / this.pageSize) || 1;\r\n      },\r\n      pageNumbers() {//计算显示的页码块数量\r\n        let allPageNumbers = this.allPageNumbers;\r\n        let starPagePos = this.pageStartPos;\r\n        let result = allPageNumbers.slice(starPagePos, starPagePos+this.pageGroup);\r\n        return result;\r\n      },\r\n      allPageNumbers() {\r\n        let len = this.totalPages;\r\n        let result = [];\r\n        // 总页码数小于设置页码数\r\n        if (len < this.pageGroup) {\r\n          while (len--) {\r\n            result.push(this.totalPages - len);\r\n          }\r\n          return result;\r\n        }\r\n        // 总页码数大于设置页码数\r\n        while (len--) {\r\n          result.push(this.totalPages - len);\r\n        }\r\n        console.log(result.length)\r\n        return result;\r\n      },\r\n      pageStartPos() {\r\n        // find the index of the target element\r\n        let targetIdx = this.allPageNumbers.indexOf(this.currentPageNumber);\r\n        let dividing = Math.floor(this.pageGroup / 2);\r\n        // calculate the start position\r\n        let startPos = 0;\r\n        if (targetIdx <= dividing) {// situation-1 targetIdx is in [0,range/2]\r\n          startPos = 0;\r\n        } else if (targetIdx > this.totalPages - 1 - dividing) {// situation-2 targetIdx is in [maxIndex-range/2,maxIndex]\r\n          startPos = this.totalPages - this.pageGroup;\r\n        } else {\r\n          startPos = targetIdx - dividing\r\n        }\r\n        return startPos\r\n      }\r\n    },\r\n    methods: {\r\n      skipToPage(pageNumber) {\r\n        if (pageNumber >= 1 && pageNumber <= this.totalPages) {\r\n          console.log(pageNumber)\r\n          this.$emit('pageNumberChange', {page: pageNumber, pageSize: this.pageSize});\r\n        }\r\n      },\r\n      skipTo() {\r\n        this.skipToPage(this.targetPageNumber)\r\n      },\r\n      handleSelectPageCount(e) {\r\n        this.$emit('onShowSizeChange', {page: this.currentPage, pageSize: parseInt(e.target.value)});\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .active {\r\n        color: #fff;\r\n        background-color: crimson;\r\n    }\r\n\r\n    .disabled {\r\n        color: #d9d9d9;\r\n        user-select: none;\r\n    }\r\n\r\n    .w-pagination {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        ul {\r\n            list-style: none;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        &-info {\r\n\r\n        }\r\n        &-nav {\r\n            display: inline-flex;\r\n            li {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                box-sizing: border-box;\r\n                height: 32px;\r\n                padding: 0 8px;\r\n                min-width: 32px;\r\n                border: 1px solid #d9d9d9;\r\n                cursor: pointer;\r\n                transition: all 0.3s linear;\r\n                &:not(:first-child) {\r\n                    margin-left: 8px;\r\n                }\r\n                &:not(.disabled):hover {\r\n                    color: #fff;\r\n                    background-color: crimson;\r\n                }\r\n            }\r\n        }\r\n        &-jump {\r\n            margin-left: 8px;\r\n            display: inline-flex;\r\n            align-items: center;\r\n            &-pageSelect, input, span {\r\n                height: 32px;\r\n                box-sizing: border-box;\r\n            }\r\n            span {\r\n                display: inline-block;\r\n                height: 32px;\r\n                padding: 0 8px;\r\n                min-width: 32px;\r\n                line-height: 32px;\r\n                border: 1px solid #d9d9d9;\r\n                cursor: pointer;\r\n                transition: all 0.3s linear;\r\n                background-color: #d9d9d9;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}