{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagination\\src\\pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagination\\src\\pagination.vue","mtime":1584426976866},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBXSWNvbiBmcm9tICcuLi8uLi9pY29uL3NyYy9pY29uJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiV1BhZ2luYXRpb24iLAogIGNvbXBvbmVudHM6IHsKICAgIFdJY29uCiAgfSwKICBwcm9wczogewogICAgcGFnZVNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMAogICAgfSwKICAgIHRvdGFsOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIHBhZ2VTaXplczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gWzEwLCAyMCwgMzAsIDQwLCA1MCwgMTAwXQogICAgfSwKICAgIHBhZ2VyQ291bnQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA3LAogICAgICB2YWxpZGF0b3I6ICh2KSA9PiB7CiAgICAgICAgaWYgKHYgPj0gNSAmJiB2ICUgMiA9PT0gMSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ3BhZ2VyQ291bnQgbXVzdCBiZSAybisxIGFuZCBhdCBsZXNzIDUnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjdXJyZW50UGFnZTogeyAvL+W9k+WJjemhteeggQogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICBwcmV2VGV4dDogeyAvLyDliY3kuIDpobXnmoTmlofmnKzlhoXlrrkKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIG5leHRUZXh0OiB7Ly/kuIvkuIDpobXnmoTmlofmnKzlhoXlrrkKICAgICAgdHlwZTogU3RyaW5nLAogICAgfSwKICAgIGhpZGVPblNpbmdsZVBhZ2U6IHsvL+WPquacieS4gOmhteaYr+WQpuW9seiXjwogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgZGlzYWJsZWQ6IHsgLy/npoHmraLmjIkKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93UHJldk1vcmU6IGZhbHNlLAogICAgICBzaG93TmV4dE1vcmU6IGZhbHNlLAogICAgICB3YW50ZWRQcmV2TW9yZTogZmFsc2UsCiAgICAgIHdhbnRlZE5leHRNb3JlOiBmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhZ2VycygpIHsKICAgICAgbGV0IHBhZ2VDb3VudCA9IHRoaXMubWF4UGFnZXI7CgogICAgICBsZXQgcGFnZXJDb3VudCA9IE51bWJlcih0aGlzLnBhZ2VyQ291bnQpOwoKICAgICAgbGV0IGhhbGZQYWdlckNvdW50ID0gTWF0aC5jZWlsKHBhZ2VyQ291bnQgLyAyKTsKCiAgICAgIGxldCBzaG93UHJldk1vcmUgPSBmYWxzZTsKCiAgICAgIGxldCBzaG93TmV4dE1vcmUgPSBmYWxzZTsKCiAgICAgIGxldCBjdXJyZW50UGFnZSA9IHRoaXMuY3VycmVudFBhZ2U7CgogICAgICBpZiAocGFnZUNvdW50ID4gcGFnZXJDb3VudCkgewogICAgICAgIGlmIChjdXJyZW50UGFnZSA+IGhhbGZQYWdlckNvdW50KSB7CiAgICAgICAgICBzaG93UHJldk1vcmUgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoY3VycmVudFBhZ2UgPCBwYWdlQ291bnQgLSBoYWxmUGFnZXJDb3VudCkgewogICAgICAgICAgc2hvd05leHRNb3JlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IGFycmF5ID0gW107CiAgICAgIGlmIChzaG93UHJldk1vcmUgJiYgIXNob3dOZXh0TW9yZSkgewogICAgICAgIGNvbnN0IHN0YXJ0UGFnZSA9IHBhZ2VDb3VudCAtIChwYWdlckNvdW50IC0gMik7CiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0UGFnZTsgaSA8IHBhZ2VDb3VudDsgaSsrKSB7CiAgICAgICAgICBhcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICghc2hvd1ByZXZNb3JlICYmIHNob3dOZXh0TW9yZSkgewogICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDwgcGFnZXJDb3VudDsgaSsrKSB7CiAgICAgICAgICBhcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChzaG93UHJldk1vcmUgJiYgc2hvd05leHRNb3JlKSB7CiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gTWF0aC5mbG9vcihwYWdlckNvdW50IC8gMikgLSAxOwogICAgICAgIGZvciAobGV0IGkgPSBjdXJyZW50UGFnZSAtIG9mZnNldDsgaSA8PSBjdXJyZW50UGFnZSArIG9mZnNldDsgaSsrKSB7CiAgICAgICAgICBhcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8IHBhZ2VDb3VudDsgaSsrKSB7CiAgICAgICAgICBhcnJheS5wdXNoKGkpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnNob3dQcmV2TW9yZSA9IHNob3dQcmV2TW9yZTsKICAgICAgdGhpcy5zaG93TmV4dE1vcmUgPSBzaG93TmV4dE1vcmU7CgoKICAgICAgcmV0dXJuIGFycmF5OwogICAgfSwKICAgIG1heFBhZ2VyKCkgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMudG90YWwgLyB0aGlzLnBhZ2VTaXplKTsKICAgIH0KICB9LAogIHdhdGNoOnsKICAgIHNob3dQcmV2TW9yZSh2KXsKICAgICAgaWYgKHYpewogICAgICAgIHRoaXMud2FudGVkUHJldk1vcmUgPSBmYWxzZQogICAgICB9CiAgICB9LAogICAgc2hvd05leHRNb3JlKHYpewogICAgICBpZih2KXsKICAgICAgICB0aGlzLndhbnRlZE5leHRNb3JlID0gZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcHJldkNsaWNrKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IDEpIHsKICAgICAgICB0aGlzLiRlbWl0KCdwcmV2Q2xpY2snLCB0aGlzLmN1cnJlbnRQYWdlIC0gMSk7CiAgICAgICAgdGhpcy5jdXJyZW50Q2hhbmdlKHRoaXMuY3VycmVudFBhZ2UgLSAxKTsKICAgICAgfQogICAgfSwKICAgIG5leHRDbGljaygpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPCB0aGlzLm1heFBhZ2VyKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnbmV4dENsaWNrJywgdGhpcy5jdXJyZW50UGFnZSArIDEpOwogICAgICAgIHRoaXMuY3VycmVudENoYW5nZSh0aGlzLmN1cnJlbnRQYWdlICsgMSk7CiAgICAgIH0KICAgIH0sCiAgICBtb3JlUGFnZXJzKGNvbW1hbmQpIHsKICAgICAgbGV0IHRhcmdldFBhZ2VyID0gbnVsbDsKICAgICAgaWYgKGNvbW1hbmQgPT09ICdwcmV2LW1vcmUnKSB7CiAgICAgICAgdGFyZ2V0UGFnZXIgPSB0aGlzLmN1cnJlbnRQYWdlIC0gKHRoaXMucGFnZXJDb3VudCAtIDIpOwogICAgICAgIGlmICh0YXJnZXRQYWdlciA8PSAwKSB7CiAgICAgICAgICB0YXJnZXRQYWdlciA9IHRoaXMuY3VycmVudFBhZ2UKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PT0gJ25leHQtbW9yZScpIHsKICAgICAgICB0YXJnZXRQYWdlciA9IHRoaXMuY3VycmVudFBhZ2UgKyAodGhpcy5wYWdlckNvdW50IC0gMik7CiAgICAgICAgaWYgKHRhcmdldFBhZ2VyID4gdGhpcy5tYXhQYWdlcikgewogICAgICAgICAgdGFyZ2V0UGFnZXIgPSB0aGlzLm1heFBhZ2VyCiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuY3VycmVudENoYW5nZSh0YXJnZXRQYWdlcik7CiAgICB9LAogICAgc2l6ZUNoYW5nZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnc2l6ZUNoYW5nZScpCiAgICB9LAogICAgY3VycmVudENoYW5nZShwYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKHBhZ2UpOwogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y3VycmVudENoYW5nZScsIHBhZ2UpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components/pagination/src","sourcesContent":["<!--v-if=\"pagers.length === 1 && hideOnSinglePage\"-->\r\n<template>\r\n    <div class=\"w-pagination\">\r\n        <!--<span class=\"w-pagination__total\">共{{total}}条</span>-->\r\n        <!--<span class=\"w-pagination__sizes\">100条/页</span>-->\r\n        <button class=\"btn-prev\" :class=\"{disabled: currentPage === 1}\" @click=\"prevClick\">\r\n            <w-icon name=\"back\"></w-icon>\r\n        </button>\r\n        <ul class=\"w-pagination__pager\">\r\n            <li\r\n                    :class=\"{ active: currentPage === 1, disabled }\"\r\n                    v-if=\"maxPager > 0\"\r\n                    class=\"number\"\r\n                    @click=\"currentChange(1)\">1\r\n            </li>\r\n            <li\r\n                    class=\"pager-more pager-more-prev\"\r\n                    v-if=\"showPrevMore\"\r\n                    @mouseenter=\"wantedPrevMore = true\"\r\n                    @mouseleave=\"wantedPrevMore = false\"\r\n                    @click=\"morePagers('prev-more')\"\r\n            >\r\n                <w-icon v-if=\"!wantedPrevMore\" name=\"checkmore\"></w-icon>\r\n                <w-icon v-if=\"wantedPrevMore\" name=\"left\"></w-icon>\r\n            </li>\r\n            <li\r\n                    class=\"number\"\r\n                    v-for=\"(pager,index) in pagers\"\r\n                    :key=\"`page_${index}_${pager}`\"\r\n                    @click=\"currentChange(pager)\"\r\n                    :class=\"{ active: currentPage === pager, disabled }\"\r\n            >\r\n                {{pager}}\r\n            </li>\r\n            <li\r\n                    class=\"pager-more pager-more-next\"\r\n                    v-if=\"showNextMore\"\r\n                    @mouseenter=\"wantedNextMore = true\"\r\n                    @mouseleave=\"wantedNextMore = false\"\r\n                    @click=\"morePagers('next-more')\"\r\n            >\r\n                <w-icon v-if=\"!wantedNextMore\" name=\"checkmore\"></w-icon>\r\n                <w-icon v-if=\"wantedNextMore\" name=\"right\"></w-icon>\r\n            </li>\r\n            <li\r\n                    :class=\"{ active: currentPage === maxPager, disabled }\"\r\n                    v-if=\"maxPager > 1\"\r\n                    class=\"number\"\r\n                    @click=\"currentChange(maxPager)\"\r\n            >{{maxPager}}\r\n            </li>\r\n        </ul>\r\n        <button class=\"btn-next\" :class=\"{disabled: currentPage === maxPager}\" @click=\"nextClick\">\r\n            <w-icon name=\"next\"></w-icon>\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import WIcon from '../../icon/src/icon';\r\n\r\n  export default {\r\n    name: \"WPagination\",\r\n    components: {\r\n      WIcon\r\n    },\r\n    props: {\r\n      pageSize: {\r\n        type: Number,\r\n        default: 10\r\n      },\r\n      total: {\r\n        type: Number\r\n      },\r\n      pageSizes: {\r\n        type: Array,\r\n        default: () => [10, 20, 30, 40, 50, 100]\r\n      },\r\n      pagerCount: {\r\n        type: Number,\r\n        default: 7,\r\n        validator: (v) => {\r\n          if (v >= 5 && v % 2 === 1) {\r\n            return true;\r\n          }\r\n          console.error('pagerCount must be 2n+1 and at less 5');\r\n          return false;\r\n        }\r\n      },\r\n      currentPage: { //当前页码\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      prevText: { // 前一页的文本内容\r\n        type: String,\r\n      },\r\n      nextText: {//下一页的文本内容\r\n        type: String,\r\n      },\r\n      hideOnSinglePage: {//只有一页是否影藏\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      disabled: { //禁止按\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        showPrevMore: false,\r\n        showNextMore: false,\r\n        wantedPrevMore: false,\r\n        wantedNextMore: false\r\n      }\r\n    },\r\n    computed: {\r\n      pagers() {\r\n        let pageCount = this.maxPager;\r\n\r\n        let pagerCount = Number(this.pagerCount);\r\n\r\n        let halfPagerCount = Math.ceil(pagerCount / 2);\r\n\r\n        let showPrevMore = false;\r\n\r\n        let showNextMore = false;\r\n\r\n        let currentPage = this.currentPage;\r\n\r\n        if (pageCount > pagerCount) {\r\n          if (currentPage > halfPagerCount) {\r\n            showPrevMore = true;\r\n          }\r\n          if (currentPage < pageCount - halfPagerCount) {\r\n            showNextMore = true;\r\n          }\r\n        }\r\n\r\n        const array = [];\r\n        if (showPrevMore && !showNextMore) {\r\n          const startPage = pageCount - (pagerCount - 2);\r\n          for (let i = startPage; i < pageCount; i++) {\r\n            array.push(i);\r\n          }\r\n        } else if (!showPrevMore && showNextMore) {\r\n          for (let i = 2; i < pagerCount; i++) {\r\n            array.push(i);\r\n          }\r\n        } else if (showPrevMore && showNextMore) {\r\n          const offset = Math.floor(pagerCount / 2) - 1;\r\n          for (let i = currentPage - offset; i <= currentPage + offset; i++) {\r\n            array.push(i);\r\n          }\r\n        } else {\r\n          for (let i = 2; i < pageCount; i++) {\r\n            array.push(i);\r\n          }\r\n        }\r\n        this.showPrevMore = showPrevMore;\r\n        this.showNextMore = showNextMore;\r\n\r\n\r\n        return array;\r\n      },\r\n      maxPager() {\r\n        return Math.ceil(this.total / this.pageSize);\r\n      }\r\n    },\r\n    watch:{\r\n      showPrevMore(v){\r\n        if (v){\r\n          this.wantedPrevMore = false\r\n        }\r\n      },\r\n      showNextMore(v){\r\n        if(v){\r\n          this.wantedNextMore = false\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      prevClick() {\r\n        if (this.currentPage > 1) {\r\n          this.$emit('prevClick', this.currentPage - 1);\r\n          this.currentChange(this.currentPage - 1);\r\n        }\r\n      },\r\n      nextClick() {\r\n        if (this.currentPage < this.maxPager) {\r\n          this.$emit('nextClick', this.currentPage + 1);\r\n          this.currentChange(this.currentPage + 1);\r\n        }\r\n      },\r\n      morePagers(command) {\r\n        let targetPager = null;\r\n        if (command === 'prev-more') {\r\n          targetPager = this.currentPage - (this.pagerCount - 2);\r\n          if (targetPager <= 0) {\r\n            targetPager = this.currentPage\r\n          }\r\n        } else if (command === 'next-more') {\r\n          targetPager = this.currentPage + (this.pagerCount - 2);\r\n          if (targetPager > this.maxPager) {\r\n            targetPager = this.maxPager\r\n          }\r\n        }\r\n        this.currentChange(targetPager);\r\n      },\r\n      sizeChange() {\r\n        this.$emit('sizeChange')\r\n      },\r\n      currentChange(page) {\r\n        console.log(page);\r\n        this.$emit('update:currentChange', page)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @mixin pager {\r\n        padding: 0 4px;\r\n        vertical-align: top;\r\n        display: inline-block;\r\n        font-size: 13px;\r\n        min-width: 36px;\r\n        height: 28px;\r\n        line-height: 28px;\r\n        cursor: pointer;\r\n        text-align: center;\r\n        background-color: #f4f4f5;\r\n        border-radius: 4px;\r\n        border: none;\r\n    }\r\n\r\n    .w-pagination {\r\n        display: flex;\r\n        align-items: center;\r\n        button {\r\n            display: flex !important;\r\n            outline: none;\r\n            align-items: center;\r\n            justify-content: center;\r\n            @include pager;\r\n        }\r\n        &__pager {\r\n            padding: 0;\r\n            margin: 0 6px;\r\n            display: flex;\r\n            align-items: center;\r\n            li {\r\n                list-style: none;\r\n                &:not(:first-child) {\r\n                    margin-left: 2px;\r\n                }\r\n                @include pager;\r\n                &.active {\r\n                    color: #fff;\r\n                    background-color: #409eff;\r\n                }\r\n                &.pager-more {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: center;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .fade-enter,\r\n    .fade-leave-to {\r\n        opacity: 0;\r\n    }\r\n\r\n    .fade-enter-active,\r\n    .fade-leave-active {\r\n        transition: opacity 1s\r\n    }\r\n</style>"]}]}