{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\table.vue?vue&type=style&index=0&id=286c41ed&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\table\\table.vue","mtime":1579681965939},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudy10YWJsZSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICBib3JkZXItc3BhY2luZzogMDsKICAgICYuYm9yZGVyZWQgewogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgICAgICAgdGgsIHRkIHsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgICAgICB9CiAgICB9CiAgICAmLWhlYWQgewoKICAgIH0KICAgICYtYm9keSB7CgogICAgfQogICAgdGgsIHRkIHsKICAgICAgICBwYWRkaW5nOiA4cHggOHB4OwogICAgfQogICAgdGggewogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICB9CiAgICB0ciB7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7CiAgICB9CiAgICB0Ym9keSB7CiAgICAgICAgdHI6bnRoLWNoaWxkKG9kZCkgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhOzsKICAgICAgICB9CiAgICAgICAgdHI6bnRoLWNoaWxkKGV2ZW4pOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzlkOWY7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"table.vue","sourceRoot":"src/components/table","sourcesContent":["<template>\r\n    <div class=\"w-table-wrapper\">\r\n        <table class=\"w-table\" :class=\"{bordered}\">\r\n            <thead class=\"w-table-head\">\r\n            <tr>\r\n                <th>\r\n                    <input\r\n                            type=\"checkbox\"\r\n                            @change=\"onSelectAll\"\r\n                            :checked=\"ardAllItemsSelected\"\r\n                            ref=\"allChecked\"\r\n                    />\r\n                </th>\r\n                <th v-if=\"numberVisible\">#</th>\r\n                <th v-for=\"column in columns\" :key=\"column.field\">\r\n                    {{column.text}}<span v-if=\"column.field in orderBy\" class=\"w-table-sorter\">↑↓</span>\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody class=\"w-table-body\">\r\n            <tr v-for=\"(item,idx) in dataSource\" :key=\"item.id\">\r\n                <td>\r\n                    <input type=\"checkbox\"\r\n                           @change=\"handleCheck(item,idx,$event)\"\r\n                           :checked=\"selectedItems.filter(a=>a.id === item.id).length>0\"\r\n                    />\r\n                </td>\r\n                <td v-if=\"numberVisible\">{{idx+1}}</td>\r\n                <template v-for=\"column in columns\">\r\n                    <td :key=\"column.field\">{{item[column.field]}}</td>\r\n                </template>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"w-table\",\r\n    props: {\r\n      dataSource: {//\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      columns: { // 表头的数据\r\n        type: Array,\r\n        default: () => [],\r\n        required: true\r\n      },\r\n      numberVisible: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      bordered: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      selectedItems: {\r\n        type: Array,\r\n        default: () => []\r\n      },\r\n      indeterminate: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      orderBy: {\r\n        type: Object,\r\n        default: () => ({})\r\n      }\r\n    },\r\n    watch: {\r\n      selectedItems() {\r\n        if (this.selectedItems.length === this.dataSource.length) {\r\n\r\n        } else if (this.selectedItems.length === 0) {\r\n\r\n        } else {\r\n\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      ardAllItemsSelected() {\r\n        let sortedData = this.dataSource.map(ds => ds.id).sort();\r\n        let sortedSelData = this.selectedItems.map(si => si.id).sort();\r\n        if (sortedData.length !== sortedSelData.length) {\r\n          return false;\r\n        }\r\n        let equal = true;\r\n        for (let i = 0; i < sortedData.length; i++) {\r\n          if (sortedData[i].id !== sortedSelData[i].id) {\r\n            equal = false;\r\n            break;\r\n          }\r\n        }\r\n        return equal;\r\n      }\r\n    },\r\n    methods: {\r\n      handleCheck(item, index, event) {\r\n        let selected = event.target.checked;\r\n        let copy = JSON.parse(JSON.stringify(this.selectedItems));\r\n        if (selected) {\r\n          copy.push(item);\r\n        } else {\r\n          copy = copy.filter(a => a.id !== item.id);\r\n        }\r\n        this.$emit('update:selectedItems', copy);\r\n      },\r\n      onSelectAll(e) {\r\n        let selected = e.target.checked;\r\n        this.$emit('update:selectedItems', selected ? this.dataSource : [])\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .w-table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        border-spacing: 0;\r\n        &.bordered {\r\n            border: 1px solid #ccc;\r\n            th, td {\r\n                border: 1px solid #ccc;\r\n            }\r\n        }\r\n        &-head {\r\n\r\n        }\r\n        &-body {\r\n\r\n        }\r\n        th, td {\r\n            padding: 8px 8px;\r\n        }\r\n        th {\r\n            text-align: left;\r\n        }\r\n        tr {\r\n            border-bottom: 1px solid #ccc;\r\n        }\r\n        tbody {\r\n            tr:nth-child(odd) {\r\n                background-color: #fafafa;;\r\n            }\r\n            tr:nth-child(even):hover {\r\n                background-color: #9d9f;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}