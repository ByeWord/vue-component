{"remainingRequest":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagenation\\pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\src\\components\\pagenation\\pagination.vue","mtime":1579587888517},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WeChain\\Documents\\Programs\\Vue\\vue-component\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidy1wYWdpbmF0aW9uIiwKICAvL+WFseacieWkmuWwkeadoeaVsOaNru+8jOavj+mhteaYvuekuuWkmuWwkeadoeaVsOaNru+8jOacieWkmuWwkeS4quWIhumhte+8jOaYvuekuuWkmuWwkeS4quWIhumhtQogIC8v5pWw5o2u5oC75p2h5pWw44CB5q+P6aG15pi+56S65p2h5pWw44CB5pi+56S66aG156CB5pWw77yM5ZCM5pe25oiR5Lus6ZyA6KaB5a6a5LmJ5b2T5YmN6aG15Y+C5pWw77yI6buY6K6k5Li6Me+8ie+8jOaYvuekuuadoeaVsO+8iOm7mOiupDEw5p2h77yJ77yM6Lez6L2s6aG177yI6buY6K6k56ysMemhte+8iQogIHByb3BzOiB7CiAgICBjdXJyZW50UGFnZU51bWJlcjogey8v5b2T5YmN6aG16aG156CBCiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIHRvdGFsOiB7Ly/mlbDmja7mgLvph4/vvIzpnZ7pobXnoIHmgLvph48KICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgcGFnZVNpemVzOiB7IC8vIOS+m+eUqOaIt+mAieaLqeeahOavj+mhteWxleekuumhueebruaVsOmHjwogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gWzUsIDEwLCAxNSwgMjBdCiAgICB9LAogICAgcGFnZUdyb3VwOiB7Ly/lsZXnpLrpobXnoIHpobnnm67mlbDph48KICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA3CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFyZ2V0UGFnZU51bWJlcjogMSwgLy/ot7PovaznmoTnm67moIfpobXpnaIKICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemVzWzBdCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWxQYWdlcygpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRvdGFsIC8gdGhpcy5wYWdlU2l6ZSkgfHwgMTsKICAgIH0sCiAgICBwYWdlTnVtYmVycygpIHsvL+iuoeeul+aYvuekuueahOmhteeggeWdl+aVsOmHjwogICAgICBsZXQgYWxsUGFnZU51bWJlcnMgPSB0aGlzLmFsbFBhZ2VOdW1iZXJzOwogICAgICBsZXQgc3RhclBhZ2VQb3MgPSB0aGlzLnBhZ2VTdGFydFBvczsKICAgICAgbGV0IHJlc3VsdCA9IGFsbFBhZ2VOdW1iZXJzLnNsaWNlKHN0YXJQYWdlUG9zLCBzdGFyUGFnZVBvcyt0aGlzLnBhZ2VHcm91cCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgYWxsUGFnZU51bWJlcnMoKSB7CiAgICAgIGxldCBsZW4gPSB0aGlzLnRvdGFsUGFnZXM7CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgLy8g5oC76aG156CB5pWw5bCP5LqO6K6+572u6aG156CB5pWwCiAgICAgIGlmIChsZW4gPCB0aGlzLnBhZ2VHcm91cCkgewogICAgICAgIHdoaWxlIChsZW4tLSkgewogICAgICAgICAgcmVzdWx0LnB1c2godGhpcy50b3RhbFBhZ2VzIC0gbGVuKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICAvLyDmgLvpobXnoIHmlbDlpKfkuo7orr7nva7pobXnoIHmlbAKICAgICAgd2hpbGUgKGxlbi0tKSB7CiAgICAgICAgcmVzdWx0LnB1c2godGhpcy50b3RhbFBhZ2VzIC0gbGVuKTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyhyZXN1bHQubGVuZ3RoKQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIHBhZ2VTdGFydFBvcygpIHsKICAgICAgLy8gZmluZCB0aGUgaW5kZXggb2YgdGhlIHRhcmdldCBlbGVtZW50CiAgICAgIGxldCB0YXJnZXRJZHggPSB0aGlzLmFsbFBhZ2VOdW1iZXJzLmluZGV4T2YodGhpcy5jdXJyZW50UGFnZU51bWJlcik7CiAgICAgIGxldCBkaXZpZGluZyA9IE1hdGguZmxvb3IodGhpcy5wYWdlR3JvdXAgLyAyKTsKICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzdGFydCBwb3NpdGlvbgogICAgICBsZXQgc3RhcnRQb3MgPSAwOwogICAgICBpZiAodGFyZ2V0SWR4IDw9IGRpdmlkaW5nKSB7Ly8gc2l0dWF0aW9uLTEgdGFyZ2V0SWR4IGlzIGluIFswLHJhbmdlLzJdCiAgICAgICAgc3RhcnRQb3MgPSAwOwogICAgICB9IGVsc2UgaWYgKHRhcmdldElkeCA+IHRoaXMudG90YWxQYWdlcyAtIDEgLSBkaXZpZGluZykgey8vIHNpdHVhdGlvbi0yIHRhcmdldElkeCBpcyBpbiBbbWF4SW5kZXgtcmFuZ2UvMixtYXhJbmRleF0KICAgICAgICBzdGFydFBvcyA9IHRoaXMudG90YWxQYWdlcyAtIHRoaXMucGFnZUdyb3VwOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXJ0UG9zID0gdGFyZ2V0SWR4IC0gZGl2aWRpbmcKICAgICAgfQogICAgICByZXR1cm4gc3RhcnRQb3MKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNraXBUb1BhZ2UocGFnZU51bWJlcikgewogICAgICBpZiAocGFnZU51bWJlciA+PSAxICYmIHBhZ2VOdW1iZXIgPD0gdGhpcy50b3RhbFBhZ2VzKSB7CiAgICAgICAgY29uc29sZS5sb2cocGFnZU51bWJlcikKICAgICAgICB0aGlzLiRlbWl0KCdwYWdlTnVtYmVyQ2hhbmdlJywge3BhZ2U6IHBhZ2VOdW1iZXIsIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplfSk7CiAgICAgIH0KICAgIH0sCiAgICBza2lwVG8oKSB7CiAgICAgIHRoaXMuc2tpcFRvUGFnZSh0aGlzLnRhcmdldFBhZ2VOdW1iZXIpCiAgICB9LAogICAgaGFuZGxlU2VsZWN0UGFnZUNvdW50KGUpIHsKICAgICAgdGhpcy4kZW1pdCgnb25TaG93U2l6ZUNoYW5nZScsIHtwYWdlOiB0aGlzLmN1cnJlbnRQYWdlLCBwYWdlU2l6ZTogcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpfSk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pagination.vue","sourceRoot":"src/components/pagenation","sourcesContent":["<template>\r\n    <nav class=\"w-pagination\">\r\n        <span class=\"w-pagination-info\">共<em>{{totalPages}}</em>页/{{total}}条</span>\r\n        <ul class=\"w-pagination-nav\">\r\n            <li :class=\"{'disabled': currentPageNumber === 1}\" @click=\"skipToPage(1)\">首页</li>\r\n            <li :class=\"{'disabled': currentPageNumber === 1}\" @click=\"skipToPage(currentPageNumber-1)\">上一页</li>\r\n            <li v-for='(num,id) in pageNumbers' :key='id' @click=\"skipToPage(num)\"\r\n                :class=\"{'active':(currentPageNumber===num)}\">{{num}}\r\n            </li>\r\n            <li :class=\"{'disabled': currentPageNumber === totalPages}\" @click=\"skipToPage(currentPageNumber+1)\">\r\n                下一页\r\n            </li>\r\n            <li :class=\"{'disabled': currentPageNumber === totalPages}\" @click=\"skipToPage(totalPages)\">尾页\r\n            </li>\r\n        </ul>\r\n        <div class=\"w-pagination-jump\">\r\n            <select class=\"w-pagination-jump-pageSelect\" @change=\"handleSelectPageCount($event)\">\r\n                <option v-for=\"(num,ide) in pageSizes\" :key=\"ide\" :value=\"num\">{{num}}条/页</option>\r\n            </select>\r\n            <input type=\"text\" v-model=\"targetPageNumber\" @keyup.enter=\"submit($event)\">\r\n            <span @click=\"skipTo\">跳转</span>\r\n        </div>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"w-pagination\",\r\n    //共有多少条数据，每页显示多少条数据，有多少个分页，显示多少个分页\r\n    //数据总条数、每页显示条数、显示页码数，同时我们需要定义当前页参数（默认为1），显示条数（默认10条），跳转页（默认第1页）\r\n    props: {\r\n      currentPageNumber: {//当前页页码\r\n        type: Number,\r\n        default: 1\r\n      },\r\n      total: {//数据总量，非页码总量\r\n        type: Number\r\n      },\r\n      pageSizes: { // 供用户选择的每页展示项目数量\r\n        type: Array,\r\n        default: () => [5, 10, 15, 20]\r\n      },\r\n      pageGroup: {//展示页码项目数量\r\n        type: Number,\r\n        default: 7\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        targetPageNumber: 1, //跳转的目标页面\r\n        pageSize: this.pageSizes[0]\r\n      }\r\n    },\r\n    computed: {\r\n      totalPages() {\r\n        return Math.ceil(this.total / this.pageSize) || 1;\r\n      },\r\n      pageNumbers() {//计算显示的页码块数量\r\n        let allPageNumbers = this.allPageNumbers;\r\n        let starPagePos = this.pageStartPos;\r\n        let result = allPageNumbers.slice(starPagePos, starPagePos+this.pageGroup);\r\n        return result;\r\n      },\r\n      allPageNumbers() {\r\n        let len = this.totalPages;\r\n        let result = [];\r\n        // 总页码数小于设置页码数\r\n        if (len < this.pageGroup) {\r\n          while (len--) {\r\n            result.push(this.totalPages - len);\r\n          }\r\n          return result;\r\n        }\r\n        // 总页码数大于设置页码数\r\n        while (len--) {\r\n          result.push(this.totalPages - len);\r\n        }\r\n        console.log(result.length)\r\n        return result;\r\n      },\r\n      pageStartPos() {\r\n        // find the index of the target element\r\n        let targetIdx = this.allPageNumbers.indexOf(this.currentPageNumber);\r\n        let dividing = Math.floor(this.pageGroup / 2);\r\n        // calculate the start position\r\n        let startPos = 0;\r\n        if (targetIdx <= dividing) {// situation-1 targetIdx is in [0,range/2]\r\n          startPos = 0;\r\n        } else if (targetIdx > this.totalPages - 1 - dividing) {// situation-2 targetIdx is in [maxIndex-range/2,maxIndex]\r\n          startPos = this.totalPages - this.pageGroup;\r\n        } else {\r\n          startPos = targetIdx - dividing\r\n        }\r\n        return startPos\r\n      }\r\n    },\r\n    methods: {\r\n      skipToPage(pageNumber) {\r\n        if (pageNumber >= 1 && pageNumber <= this.totalPages) {\r\n          console.log(pageNumber)\r\n          this.$emit('pageNumberChange', {page: pageNumber, pageSize: this.pageSize});\r\n        }\r\n      },\r\n      skipTo() {\r\n        this.skipToPage(this.targetPageNumber)\r\n      },\r\n      handleSelectPageCount(e) {\r\n        this.$emit('onShowSizeChange', {page: this.currentPage, pageSize: parseInt(e.target.value)});\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .active {\r\n        color: #fff;\r\n        background-color: crimson;\r\n    }\r\n\r\n    .disabled {\r\n        color: #d9d9d9;\r\n        user-select: none;\r\n    }\r\n\r\n    .w-pagination {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        ul {\r\n            list-style: none;\r\n            padding: 0;\r\n            margin: 0;\r\n        }\r\n        &-info {\r\n\r\n        }\r\n        &-nav {\r\n            display: inline-flex;\r\n            li {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                box-sizing: border-box;\r\n                height: 32px;\r\n                padding: 0 8px;\r\n                min-width: 32px;\r\n                border: 1px solid #d9d9d9;\r\n                cursor: pointer;\r\n                transition: all 0.3s linear;\r\n                &:not(:first-child) {\r\n                    margin-left: 8px;\r\n                }\r\n                &:not(.disabled):hover {\r\n                    color: #fff;\r\n                    background-color: crimson;\r\n                }\r\n            }\r\n        }\r\n        &-jump {\r\n            margin-left: 8px;\r\n            display: inline-flex;\r\n            align-items: center;\r\n            &-pageSelect, input, span {\r\n                height: 32px;\r\n                box-sizing: border-box;\r\n            }\r\n            span {\r\n                display: inline-block;\r\n                height: 32px;\r\n                padding: 0 8px;\r\n                min-width: 32px;\r\n                line-height: 32px;\r\n                border: 1px solid #d9d9d9;\r\n                cursor: pointer;\r\n                transition: all 0.3s linear;\r\n                background-color: #d9d9d9;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}